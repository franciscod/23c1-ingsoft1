

----QUIT----(30 May 2023 00:05:32) CuisUniversity-5832.image priorSource: 4928100!

----STARTUP---- (30 May 2023 00:05:33) as /Users/hernan/Documents/Cuis/5.0-64Bits/Cuis-University-Installer/CuisUniversity-5832.image!


----QUIT----(30 May 2023 00:05:33) CuisUniversity-5832.image priorSource: 9366537!

----STARTUP---- (22 June 2023 20:42:44) as /home/julia/Documents/Inge/Smalltalk/CustomerImporter/linux64/CuisUniversity-5832.image!


----End fileIn of /home/julia/Documents/Inge/Smalltalk/CustomerImporter/linux64/CustomerImporter.st----!

!testRun: #ImportTest #test01Import stamp: 'JV 6/22/2023 20:45:25'!
PASSED!
!Customer methodsFor: 'importing' stamp: 'JV 6/22/2023 20:47:26'!
importCustomers

	"
	self importCustomers
	"
	| inputStream session newCustomer line |

	inputStream := UniFileStream new open: 'input.txt' forWrite: false.
	session := DataBaseSession for: (Array with: Address with: Customer).
	session beginTransaction.

	line := inputStream nextLine.
	[ line notNil ] whileTrue: [
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer new.
			newCustomer firstName: customerData second.
			newCustomer lastName: customerData third.
			newCustomer identificationType: customerData fourth.
			newCustomer identificationNumber: customerData fourth.
			session persist: newCustomer ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := Address new.
			newCustomer addAddress: newAddress.
			newAddress streetName: addressData second.
			newAddress streetNumber: addressData third asNumber .
			newAddress town: addressData fourth.
			newAddress zipCode: addressData fifth asNumber .
			newAddress province: addressData fourth ].

		line := inputStream nextLine. ].

	session commit.
	session close.

	inputStream close.
	! !

!methodRemoval: Customer class #importCustomers stamp: 'JV 6/22/2023 20:47:26'!
importCustomers

	"
	self importCustomers
	"
	| inputStream session newCustomer line |

	inputStream := UniFileStream new open: 'input.txt' forWrite: false.
	session := DataBaseSession for: (Array with: Address with: Customer).
	session beginTransaction.

	line := inputStream nextLine.
	[ line notNil ] whileTrue: [
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer new.
			newCustomer firstName: customerData second.
			newCustomer lastName: customerData third.
			newCustomer identificationType: customerData fourth.
			newCustomer identificationNumber: customerData fourth.
			session persist: newCustomer ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := Address new.
			newCustomer addAddress: newAddress.
			newAddress streetName: addressData second.
			newAddress streetNumber: addressData third asNumber .
			newAddress town: addressData fourth.
			newAddress zipCode: addressData fifth asNumber .
			newAddress province: addressData fourth ].

		line := inputStream nextLine. ].

	session commit.
	session close.

	inputStream close.
	!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/22/2023 20:48:21'!
importCustomers

	"
	self importCustomers
	"
	| inputStream session newCustomer line |

	inputStream := UniFileStream new open: 'input.txt' forWrite: false.
	session := DataBaseSession for: (Array with: Address with: Customer).
	session beginTransaction.

	line := inputStream nextLine.
	[ line notNil ] whileTrue: [
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer new.
			newCustomer firstName: customerData second.
			newCustomer lastName: customerData third.
			newCustomer identificationType: customerData fourth.
			newCustomer identificationNumber: customerData fourth.
			session persist: newCustomer ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := Address new.
			newCustomer addAddress: newAddress.
			newAddress streetName: addressData second.
			newAddress streetNumber: addressData third asNumber .
			newAddress town: addressData fourth.
			newAddress zipCode: addressData fifth asNumber .
			newAddress province: addressData fourth ].

		line := inputStream nextLine. ].

	session commit.
	session close.

	inputStream close.
	! !

!methodRemoval: Customer #importCustomers stamp: 'JV 6/22/2023 20:48:28'!
importCustomers

	"
	self importCustomers
	"
	| inputStream session newCustomer line |

	inputStream := UniFileStream new open: 'input.txt' forWrite: false.
	session := DataBaseSession for: (Array with: Address with: Customer).
	session beginTransaction.

	line := inputStream nextLine.
	[ line notNil ] whileTrue: [
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer new.
			newCustomer firstName: customerData second.
			newCustomer lastName: customerData third.
			newCustomer identificationType: customerData fourth.
			newCustomer identificationNumber: customerData fourth.
			session persist: newCustomer ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := Address new.
			newCustomer addAddress: newAddress.
			newAddress streetName: addressData second.
			newAddress streetNumber: addressData third asNumber .
			newAddress town: addressData fourth.
			newAddress zipCode: addressData fifth asNumber .
			newAddress province: addressData fourth ].

		line := inputStream nextLine. ].

	session commit.
	session close.

	inputStream close.
	!

!testRun: #ImportTest #test01Import stamp: 'JV 6/22/2023 20:48:30'!
ERROR!

!testRun: #ImportTest #test01Import stamp: 'JV 6/22/2023 20:48:30'!
ERROR!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/22/2023 20:49:07' prior: 50624380!
test01Import

	self importCustomers ! !

!testRun: #ImportTest #test01Import stamp: 'JV 6/22/2023 20:49:08'!
PASSED!

!testRun: #ImportTest #test01Import stamp: 'JV 6/22/2023 20:49:09'!
PASSED!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/22/2023 20:50:05' prior: 50624722!
importCustomers

	"
	self importCustomers
	"
	| inputStream  newCustomer line |
	
	session := DataBaseSession for: (Array with: Address with: Customer).
	session beginTransaction.

	inputStream := UniFileStream new open: 'input.txt' forWrite: false.
	

	line := inputStream nextLine.
	[ line notNil ] whileTrue: [
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer new.
			newCustomer firstName: customerData second.
			newCustomer lastName: customerData third.
			newCustomer identificationType: customerData fourth.
			newCustomer identificationNumber: customerData fourth.
			session persist: newCustomer ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := Address new.
			newCustomer addAddress: newAddress.
			newAddress streetName: addressData second.
			newAddress streetNumber: addressData third asNumber .
			newAddress town: addressData fourth.
			newAddress zipCode: addressData fifth asNumber .
			newAddress province: addressData fourth ].

		line := inputStream nextLine. ].

	session commit.
	session close.

	inputStream close.
	! !

!classDefinition: #ImportTest category: 'CustomerImporter' stamp: 'JV 6/22/2023 20:50:05'!
TestCase subclass: #ImportTest
	instanceVariableNames: 'session'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CustomerImporter'!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/22/2023 20:50:11' prior: 50624816!
importCustomers

	"
	self importCustomers
	"
	| inputStream  newCustomer line |
	
	session := DataBaseSession for: (Array with: Address with: Customer).
	session beginTransaction.

	inputStream := UniFileStream new open: 'input.txt' forWrite: false.
	

	line := inputStream nextLine.
	[ line notNil ] whileTrue: [
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer new.
			newCustomer firstName: customerData second.
			newCustomer lastName: customerData third.
			newCustomer identificationType: customerData fourth.
			newCustomer identificationNumber: customerData fourth.
			session persist: newCustomer ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := Address new.
			newCustomer addAddress: newAddress.
			newAddress streetName: addressData second.
			newAddress streetNumber: addressData third asNumber .
			newAddress town: addressData fourth.
			newAddress zipCode: addressData fifth asNumber .
			newAddress province: addressData fourth ].

		line := inputStream nextLine. ].

	session commit.
	session close.

	inputStream close.
	! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/22/2023 20:50:16' overrides: 16961394!
setUp

	session := DataBaseSession for: (Array with: Address with: Customer).
	session beginTransaction! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/22/2023 20:50:16' prior: 50624864!
importCustomers

	"
	self importCustomers
	"
	| inputStream  newCustomer line |
	
	self setUp.

	inputStream := UniFileStream new open: 'input.txt' forWrite: false.
	

	line := inputStream nextLine.
	[ line notNil ] whileTrue: [
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer new.
			newCustomer firstName: customerData second.
			newCustomer lastName: customerData third.
			newCustomer identificationType: customerData fourth.
			newCustomer identificationNumber: customerData fourth.
			session persist: newCustomer ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := Address new.
			newCustomer addAddress: newAddress.
			newAddress streetName: addressData second.
			newAddress streetNumber: addressData third asNumber .
			newAddress town: addressData fourth.
			newAddress zipCode: addressData fifth asNumber .
			newAddress province: addressData fourth ].

		line := inputStream nextLine. ].

	session commit.
	session close.

	inputStream close.
	! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/22/2023 20:50:27' prior: 50624912!
importCustomers

	"
	self importCustomers
	"
	| inputStream  newCustomer line |

	inputStream := UniFileStream new open: 'input.txt' forWrite: false.
	

	line := inputStream nextLine.
	[ line notNil ] whileTrue: [
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer new.
			newCustomer firstName: customerData second.
			newCustomer lastName: customerData third.
			newCustomer identificationType: customerData fourth.
			newCustomer identificationNumber: customerData fourth.
			session persist: newCustomer ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := Address new.
			newCustomer addAddress: newAddress.
			newAddress streetName: addressData second.
			newAddress streetNumber: addressData third asNumber .
			newAddress town: addressData fourth.
			newAddress zipCode: addressData fifth asNumber .
			newAddress province: addressData fourth ].

		line := inputStream nextLine. ].

	session commit.
	session close.

	inputStream close.
	! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/22/2023 20:50:33' overrides: 16961402!
tearDown

	session commit.
	session close! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/22/2023 20:50:33' prior: 50624950!
importCustomers

	"
	self importCustomers
	"
	| inputStream  newCustomer line |

	inputStream := UniFileStream new open: 'input.txt' forWrite: false.
	

	line := inputStream nextLine.
	[ line notNil ] whileTrue: [
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer new.
			newCustomer firstName: customerData second.
			newCustomer lastName: customerData third.
			newCustomer identificationType: customerData fourth.
			newCustomer identificationNumber: customerData fourth.
			session persist: newCustomer ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := Address new.
			newCustomer addAddress: newAddress.
			newAddress streetName: addressData second.
			newAddress streetNumber: addressData third asNumber .
			newAddress town: addressData fourth.
			newAddress zipCode: addressData fifth asNumber .
			newAddress province: addressData fourth ].

		line := inputStream nextLine. ].

	self tearDown.

	inputStream close.
	! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/22/2023 20:50:38' prior: 50624993!
importCustomers

	"
	self importCustomers
	"
	| inputStream  newCustomer line |

	inputStream := UniFileStream new open: 'input.txt' forWrite: false.
	

	line := inputStream nextLine.
	[ line notNil ] whileTrue: [
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer new.
			newCustomer firstName: customerData second.
			newCustomer lastName: customerData third.
			newCustomer identificationType: customerData fourth.
			newCustomer identificationNumber: customerData fourth.
			session persist: newCustomer ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := Address new.
			newCustomer addAddress: newAddress.
			newAddress streetName: addressData second.
			newAddress streetNumber: addressData third asNumber .
			newAddress town: addressData fourth.
			newAddress zipCode: addressData fifth asNumber .
			newAddress province: addressData fourth ].

		line := inputStream nextLine. ].


	inputStream close.
	! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/22/2023 20:50:47' prior: 50625030!
importCustomers

	"
	self importCustomers
	"
	| inputStream  newCustomer line |

	inputStream := UniFileStream new open: 'input.txt' forWrite: false.

	line := inputStream nextLine.
	[ line notNil ] whileTrue: [
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer new.
			newCustomer firstName: customerData second.
			newCustomer lastName: customerData third.
			newCustomer identificationType: customerData fourth.
			newCustomer identificationNumber: customerData fourth.
			session persist: newCustomer ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := Address new.
			newCustomer addAddress: newAddress.
			newAddress streetName: addressData second.
			newAddress streetNumber: addressData third asNumber .
			newAddress town: addressData fourth.
			newAddress zipCode: addressData fifth asNumber .
			newAddress province: addressData fourth ].

		line := inputStream nextLine. ].


	inputStream close.
	! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/22/2023 20:50:54' prior: 50625066!
importCustomers

	| inputStream  newCustomer line |

	inputStream := UniFileStream new open: 'input.txt' forWrite: false.

	line := inputStream nextLine.
	[ line notNil ] whileTrue: [
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer new.
			newCustomer firstName: customerData second.
			newCustomer lastName: customerData third.
			newCustomer identificationType: customerData fourth.
			newCustomer identificationNumber: customerData fourth.
			session persist: newCustomer ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := Address new.
			newCustomer addAddress: newAddress.
			newAddress streetName: addressData second.
			newAddress streetNumber: addressData third asNumber .
			newAddress town: addressData fourth.
			newAddress zipCode: addressData fifth asNumber .
			newAddress province: addressData fourth ].

		line := inputStream nextLine. ].


	inputStream close.
	! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/22/2023 20:51:31'!
test01Importing5CustomersShows5CustomersInDBS

	self importCustomers 
	
	! !

!methodRemoval: ImportTest #test01Import stamp: 'JV 6/22/2023 20:51:58'!
test01Import

	self importCustomers !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/22/2023 20:52:38' prior: 50625137!
test01Importing5CustomersShows5CustomersInDBS

	self importCustomers 
	
	self assert: (self numberOfCustomers) equals: 5.
	
	! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/22/2023 20:52:52'!
numberOfCustomers
	^5.
	
	! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/22/2023 20:52:54'!
ERROR!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/22/2023 20:52:55'!
ERROR!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/22/2023 20:53:03' prior: 50625146!
test01Importing5CustomersShows5CustomersInDBS

	self importCustomers.
	
	self assert: (self numberOfCustomers) equals: 5.
	
	! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/22/2023 20:53:04'!
PASSED!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/22/2023 20:53:07'!
PASSED!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/22/2023 20:54:01' prior: 50625164!
test01Importing5CustomersShows5CustomersInDBS

	self importCustomers.
	
	self assert: (session numberOfCustomers) equals: 5.
	
	! !
!DataBaseSession methodsFor: 'persistence - private' stamp: 'JV 6/22/2023 20:54:16'!
numberOfCustomers
	^5.! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/22/2023 20:54:19'!
PASSED!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/22/2023 20:56:24'!
test01ImportingCustomersShowsCorrectNames

	self importCustomers.
	
	self assert: self namesAreCorrect.
	
	! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/22/2023 20:56:33'!
test02ImportingCustomersShowsCorrectNames

	self importCustomers.
	
	self assert: self namesAreCorrect.
	
	! !

!methodRemoval: ImportTest #test01ImportingCustomersShowsCorrectNames stamp: 'JV 6/22/2023 20:56:33'!
test01ImportingCustomersShowsCorrectNames

	self importCustomers.
	
	self assert: self namesAreCorrect.
	
	!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/22/2023 20:57:00' prior: 50625198!
test02ImportingCustomersShowsCorrectNames

	self importCustomers.
	
	self assert: session namesAreCorrect.
	
	! !
!DataBaseSession methodsFor: 'persistence - private' stamp: 'JV 6/22/2023 20:59:46' prior: 50625185!
numberOfCustomers
	^(self selectAllOfType: Customer new identificationType) length.! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/22/2023 20:59:50'!
ERROR!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/22/2023 20:59:51'!
ERROR!
!DataBaseSession methodsFor: 'persistence - private' stamp: 'JV 6/22/2023 21:00:45' prior: 50625219!
numberOfCustomers
	^(self selectAllOfType: Customer new identificationType) size.! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/22/2023 21:00:47'!
FAILURE!
!DataBaseSession methodsFor: 'persistence - private' stamp: 'JV 6/22/2023 21:02:33' prior: 50625232!
numberOfCustomers
	^(self selectAllOfType: (Customer new identificationType)) size.! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/22/2023 21:02:36'!
FAILURE!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectNames stamp: 'JV 6/22/2023 21:02:36'!
ERROR!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/22/2023 21:02:54' prior: 50625178!
test01Importing5CustomersShows5CustomersInDBS

	self importCustomers.
	
	self assert: 5 equals: (session numberOfCustomers).
	
	! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/22/2023 21:02:58'!
FAILURE!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/22/2023 21:02:58'!
FAILURE!

session numberOfCustomers !

session selectAllOfType: Customer!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/22/2023 21:03:57' prior: 50625255!
test01Importing5CustomersShows5CustomersInDBS

	self importCustomers.
	
	self assert: 2 equals: (session numberOfCustomers).
	
	! !
!DataBaseSession methodsFor: 'persistence - private' stamp: 'JV 6/22/2023 21:04:07' prior: 50625242!
numberOfCustomers
	^(self selectAllOfType: Customer) size.! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/22/2023 21:04:09'!
PASSED!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectNames stamp: 'JV 6/22/2023 21:04:10'!
ERROR!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectNames stamp: 'JV 6/22/2023 21:04:10'!
ERROR!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectNames stamp: 'JV 6/22/2023 21:04:19'!
ERROR!
!DataBaseSession methodsFor: 'as yet unclassified' stamp: 'JV 6/22/2023 21:04:35'!
namesAreCorrect
	self shouldBeImplemented.! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/22/2023 21:04:42' prior: 50625212!
test02ImportingCustomersShowsCorrectNames

	self importCustomers.
	
	self assert: self namesAreCorrect.
	
	! !

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectNames stamp: 'JV 6/22/2023 21:04:44'!
ERROR!
!ImportTest methodsFor: 'testing' stamp: 'JV 6/22/2023 21:04:52'!
namesAreCorrect
	self shouldBeImplemented.! !
!ImportTest methodsFor: 'testing' stamp: 'JV 6/22/2023 21:05:33' prior: 50625312!
namesAreCorrect
	^session customers = Set with: 'Pepe Sanchez' with: ''! !

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectNames stamp: 'JV 6/22/2023 21:05:40'!
ERROR!
!DataBaseSession methodsFor: 'accessing' stamp: 'JV 6/22/2023 21:05:55'!
customers
	self shouldBeImplemented.! !
!DataBaseSession methodsFor: 'accessing' stamp: 'JV 6/22/2023 21:06:16' prior: 50625324!
customers
	^self selectAllOfType: Customer.! !

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectNames stamp: 'JV 6/22/2023 21:06:18'!
ERROR!
!ImportTest methodsFor: 'testing' stamp: 'JV 6/22/2023 21:06:30' prior: 50625316!
namesAreCorrect
	^session customers = (Set with: 'Pepe Sanchez' with: '')! !

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectNames stamp: 'JV 6/22/2023 21:06:31'!
FAILURE!
!ImportTest methodsFor: 'testing' stamp: 'JV 6/22/2023 21:07:12' prior: 50625337!
namesAreCorrect
	^session customers = (Set with: 'Pepe Sanchez' with: 'Juan Perez')! !
!ImportTest methodsFor: 'testing' stamp: 'JV 6/22/2023 21:09:59' prior: 50625346!
namesAreCorrect
	^session customers inject: true into: [ :namesAreCorrect :customer | 
		namesAreCorrect and customer] ! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/22/2023 21:11:46' prior: 50625303!
test02ImportingCustomersShowsCorrectNames

	| juan pepe |
	self importCustomers.
	
	pepe := Customer new firstName: 'Pepe'; lastName: 'Sanchez'.
	juan := Customer new firstName: 'Juan'; lastName: 'Perez'.
	
	self assert: self namesAreCorrect.
	
	! !
!Customer class methodsFor: 'importing' stamp: 'JV 6/22/2023 21:13:27'!
firstName: aFirstName lastName: aLastName id: anId
	^self new firstName: aFirstName; lastName: aLastName; identificationNumber: anId.! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/22/2023 21:14:31' prior: 50625359!
test02ImportingCustomersShowsCorrectNames

	| juan pepe |
	self importCustomers.
	
	pepe := Customer firstName: 'Pepe' lastName: 'Sanchez' id: '123'.
	juan := Customer firstName: 'Juan' lastName: 'Perez' id: '321'.
	
	self assert: self namesAreCorrect.
	
	! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/22/2023 21:15:14' prior: 50625378!
test02ImportingCustomersShowsCorrectNames

	| juan pepe |
	self importCustomers.
	
	pepe := Customer firstName: 'Pepe' lastName: 'Sanchez' id: '123'.
	juan := Customer firstName: 'Juan' lastName: 'Perez' id: '321'.
	
	self assert: (session ).
	
	! !

!methodRemoval: DataBaseSession #namesAreCorrect stamp: 'JV 6/22/2023 21:15:27'!
namesAreCorrect
	self shouldBeImplemented.!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/22/2023 21:17:25' prior: 50625390!
test02ImportingCustomersShowsCorrectNames

	| juan pepe |
	self importCustomers.
	
	pepe := Customer firstName: 'Pepe' lastName: 'Sanchez' id: '123'.
	juan := Customer firstName: 'Juan' lastName: 'Perez' id: '321'.
	
	self assert: (session customers includes: pepe) & (session customers includes: juan).
	
	! !

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectNames stamp: 'JV 6/22/2023 21:17:26'!
FAILURE!

session customers!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/22/2023 21:19:49'!
PASSED!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectNames stamp: 'JV 6/22/2023 21:19:50'!
FAILURE!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectNames stamp: 'JV 6/22/2023 21:19:51'!
FAILURE!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/22/2023 21:21:18' prior: 50625405!
test02ImportingCustomersShowsCorrectNames

	| juan pepe |
	self importCustomers.
	
	pepe := Customer firstName: 'Pepe' lastName: 'Sanchez' id: '1'.
	juan := Customer firstName: 'Juan' lastName: 'Perez' id: '2'.
	
	self assert: (session customers includes: pepe) & (session customers includes: juan).
	
	! !

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectNames stamp: 'JV 6/22/2023 21:21:20'!
FAILURE!

session customers!
!Customer methodsFor: 'addresses' stamp: 'JV 6/22/2023 21:25:06' overrides: 16901772!
= anObject
	^(self firstName = anObject firstName) & (self lastName = anObject lastName) & (self identificationNumber = anObject identificationNumber) & (self identificationType = anObject identificationType)! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/22/2023 21:25:10'!
PASSED!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectNames stamp: 'JV 6/22/2023 21:25:11'!
FAILURE!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectNames stamp: 'JV 6/22/2023 21:25:12'!
FAILURE!

session customers!

session customers!
!Customer class methodsFor: 'importing' stamp: 'JV 6/22/2023 21:26:39'!
firstName: aFirstName lastName: aLastName id: anId idType: idType 
	^self new firstName: aFirstName; lastName: aLastName; identificationNumber: anId.! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/22/2023 21:26:39' prior: 50625432!
test02ImportingCustomersShowsCorrectNames

	| juan pepe |
	self importCustomers.
	
	pepe := Customer firstName: 'Pepe' lastName: 'Sanchez' id: '1' idType: 'D'.
	juan := Customer firstName: 'Juan' lastName: 'Perez' id: '2' idType: 'D'.
	
	self assert: (session customers includes: pepe) & (session customers includes: juan).
	
	! !

!methodRemoval: Customer class #firstName:lastName:id: stamp: 'JV 6/22/2023 21:26:39'!
firstName: aFirstName lastName: aLastName id: anId
	^self new firstName: aFirstName; lastName: aLastName; identificationNumber: anId.!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/22/2023 21:26:45'!
PASSED!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectNames stamp: 'JV 6/22/2023 21:26:46'!
FAILURE!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectNames stamp: 'JV 6/22/2023 21:26:46'!
FAILURE!

session customers!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/22/2023 21:29:58' prior: 50625102!
importCustomers

	| inputStream  newCustomer line |

	inputStream := UniFileStream new open: 'input.txt' forWrite: false.

	line := inputStream nextLine.
	[ line notNil ] whileTrue: [
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer new.
			newCustomer firstName: customerData second.
			newCustomer lastName: customerData third.
			newCustomer identificationType: customerData fourth.
			newCustomer identificationNumber: customerData fifth.
			session persist: newCustomer ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := Address new.
			newCustomer addAddress: newAddress.
			newAddress streetName: addressData second.
			newAddress streetNumber: addressData third asNumber .
			newAddress town: addressData fourth.
			newAddress zipCode: addressData fifth asNumber .
			newAddress province: addressData fourth ].

		line := inputStream nextLine. ].


	inputStream close.
	! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/22/2023 21:30:00'!
PASSED!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectNames stamp: 'JV 6/22/2023 21:30:01'!
FAILURE!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectNames stamp: 'JV 6/22/2023 21:30:02'!
FAILURE!
!Customer class methodsFor: 'importing' stamp: 'JV 6/22/2023 21:34:03' prior: 50625470!
firstName: aFirstName lastName: aLastName id: anId idType: idType 
	^self new firstName: aFirstName; lastName: aLastName; identificationNumber: anId; identificationType: idType.! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/22/2023 21:34:10'!
PASSED!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectNames stamp: 'JV 6/22/2023 21:34:11'!
FAILURE!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectNames stamp: 'JV 6/22/2023 21:34:11'!
FAILURE!

!methodRemoval: ImportTest #test02ImportingCustomersShowsCorrectNames stamp: 'JV 6/22/2023 21:35:29'!
test02ImportingCustomersShowsCorrectNames

	| juan pepe |
	self importCustomers.
	
	pepe := Customer firstName: 'Pepe' lastName: 'Sanchez' id: '1' idType: 'D'.
	juan := Customer firstName: 'Juan' lastName: 'Perez' id: '2' idType: 'D'.
	
	self assert: (session customers includes: pepe) & (session customers includes: juan).
	
	!

!methodRemoval: Customer class #firstName:lastName:id:idType: stamp: 'JV 6/22/2023 21:35:35'!
firstName: aFirstName lastName: aLastName id: anId idType: idType 
	^self new firstName: aFirstName; lastName: aLastName; identificationNumber: anId; identificationType: idType.!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/22/2023 21:36:56'!
test02ImportingCustomersShowsCorrectCustomerNames

	self importCustomers.
	
	self assert: ''.
	
	! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/22/2023 21:40:33' prior: 50625595!
test02ImportingCustomersShowsCorrectCustomerNames

	| juan pepe |
	self importCustomers.
	
	pepe := session customer: '1'.
	juan := session customer: '2'.
	
	self assert: (pepe firstName = 'Pepe' & pepe lastName = 'Sanchez') & (juan firstName = 'Juan' & juan lastName = 'Perez').
	
	! !

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/22/2023 21:40:40'!
ERROR!
!DataBaseSession methodsFor: 'accessing' stamp: 'JV 6/22/2023 21:40:45'!
customer: aRenameMe1 
	self shouldBeImplemented.! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/22/2023 21:48:25' prior: 50625602!
test02ImportingCustomersShowsCorrectCustomerNames

	| juan pepe |
	self importCustomers.
	
	pepe := session customerWithId: '1'.
	juan := session customerWithId: '2'.
	
	self assert: (pepe firstName = 'Pepe' & pepe lastName = 'Sanchez') & (juan firstName = 'Juan' & juan lastName = 'Perez').
	
	! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/22/2023 21:48:54' prior: 50625622!
test02ImportingCustomersShowsCorrectCustomerNames

	| juan pepe |
	self importCustomers.
	
	pepe := session customerWithId: 1.
	juan := session customerWithId: 2.
	
	self assert: (pepe firstName = 'Pepe' & pepe lastName = 'Sanchez') & (juan firstName = 'Juan' & juan lastName = 'Perez').
	
	! !

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/22/2023 21:48:58'!
ERROR!
!DataBaseSession methodsFor: 'accessing' stamp: 'JV 6/22/2023 21:49:07'!
customerWithId: aRenameMe1 
	self shouldBeImplemented.! !
!DataBaseSession methodsFor: 'accessing' stamp: 'JV 6/22/2023 21:49:36' prior: 50625651!
customerWithId: aCustomerId
	self halt.! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/22/2023 21:49:41'!
PASSED!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/22/2023 21:56:51' prior: 50625635!
test02ImportingCustomersShowsCorrectCustomerNames

	| juan pepe |
	self importCustomers.
	
	pepe := session .
	juan := ''.
	
	self assert: (pepe firstName = 'Pepe' & pepe lastName = 'Sanchez') & (juan firstName = 'Juan' & juan lastName = 'Perez').
	
	! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/22/2023 21:58:29' prior: 50625664!
test02ImportingCustomersShowsCorrectCustomerNames

	| juan pepe |
	self importCustomers.
	
	pepe := session select: [ :customer | customer firstName = 'Pepe'] ofType: Customer.
	juan := session select: [ :customer | customer firstName = 'Juan'] ofType: Customer.
	
	self assert: (pepe firstName = 'Pepe' & pepe lastName = 'Sanchez') & (juan firstName = 'Juan' & juan lastName = 'Perez').
	
	! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/22/2023 21:59:02' prior: 50625675!
test02ImportingCustomersShowsCorrectCustomerNames

	| juan pepe |
	self importCustomers.
	
	pepe := session select: [ :customer | customer firstName = 'Pepe'] ofType: Customer.
	juan := session select: [ :customer | customer firstName = 'Juan'] ofType: Customer.
	
	self assert: (pepe lastName = 'Sanchez') & (juan lastName = 'Perez').
	
	! !

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/22/2023 21:59:05'!
ERROR!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/22/2023 21:59:29' prior: 50625691!
test02ImportingCustomersShowsCorrectCustomerNames

	| juan pepe |
	self importCustomers.
	
	pepe := session select: [ :customer | customer firstName = 'Pepe'] ofType: Customer.
	juan := session select: [ :customer | customer firstName = 'Juan'] ofType: Customer.
	
	self assert: (pepe first lastName = 'Sanchez') & (juan first lastName = 'Perez').
	
	! !

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/22/2023 21:59:31'!
ERROR!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/22/2023 22:01:04' prior: 50625709!
test02ImportingCustomersShowsCorrectCustomerNames

	| juan pepe |
	self importCustomers.
	
	pepe := session select: [ :customer | customer firstName = 'Pepe'] ofType: Customer.
	juan := session select: [ :customer | customer firstName = 'Juan'] ofType: Customer.
	
	self assert: (pepe anyOne lastName = 'Sanchez') & (juan anyOne lastName = 'Perez').
	
	! !

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/22/2023 22:01:05'!
PASSED!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/22/2023 22:01:06'!
PASSED!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/22/2023 22:01:07'!
PASSED!

----QUIT----(22 June 2023 22:01:20) CuisUniversity-5832.image priorSource: 9366758!

----STARTUP---- (25 June 2023 21:57:24) as /home/julia/Documents/Inge/Smalltalk/CustomerImporter/linux64/CuisUniversity-5832.image!

!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 22:00:41'!
test03ImportingCustomersShowsCorrectCustomerIdentificationType

	| juan pepe |
	self importCustomers.
	
	pepe := session select: [ :customer | customer firstName = 'Pepe'] ofType: Customer.
	juan := session select: [ :customer | customer firstName = 'Juan'] ofType: Customer.
	
	self assert: (pepe anyOne identificationType = 'D') & (juan anyOne identificationType = 'C').
	
	! !

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/25/2023 22:00:43'!
PASSED!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 22:00:44'!
PASSED!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/25/2023 22:00:45'!
PASSED!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/25/2023 22:00:45'!
PASSED!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 22:01:39'!
test04ImportingCustomersShowsCorrectCustomerIdentificationNumber

	| juan pepe |
	self importCustomers.
	
	pepe := session select: [ :customer | customer firstName = 'Pepe'] ofType: Customer.
	juan := session select: [ :customer | customer firstName = 'Juan'] ofType: Customer.
	
	self assert: (pepe anyOne identificationNumber = '22333444') & (juan anyOne identificationNumber = '23-25666777-9').
	
	! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 22:01:43' prior: 50625788!
test04ImportingCustomersShowsCorrectCustomerIdentificationNumber

	| juan pepe |
	self importCustomers.
	
	pepe := session select: [ :customer | customer firstName = 'Pepe'] ofType: Customer.
	juan := session select: [ :customer | customer firstName = 'Juan'] ofType: Customer.
	
	self assert: (pepe anyOne identificationNumber = '22333444') & (juan anyOne identificationNumber = '23-25666777-9').
	
	! !

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/25/2023 22:01:44'!
PASSED!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 22:01:44'!
PASSED!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/25/2023 22:01:45'!
PASSED!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/25/2023 22:01:46'!
PASSED!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/25/2023 22:01:46'!
PASSED!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 22:03:22'!
test05ImportingCustomersShowsCorrectCustomerAddresses

	| juan pepe |
	self importCustomers.
	
	pepe := session select: [ :customer | customer firstName = 'Pepe'] ofType: Customer.
	juan := session select: [ :customer | customer firstName = 'Juan'] ofType: Customer.
	
	self assert: (pepe anyOne addresses = '22333444') & (juan anyOne addresses = '23-25666777-9').
	
	! !

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/25/2023 22:03:25'!
FAILURE!

pepe anyOne addresses!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 22:04:19' prior: 50625839!
test05ImportingCustomersShowsCorrectCustomerAddresses

	| juan pepe |
	self importCustomers.
	
	pepe := session select: [ :customer | customer firstName = 'Pepe'] ofType: Customer.
	juan := session select: [ :customer | customer firstName = 'Juan'] ofType: Customer.
	
	self assert: (pepe anyOne addresses = OrderedCollection with: Address) & (juan anyOne addresses = '23-25666777-9').
	
	! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 22:10:48' prior: 50625859!
test05ImportingCustomersShowsCorrectCustomerAddresses

	| juan pepe juan_address pepe_address1 pepe_address2 |
	self importCustomers.
	
	pepe := session select: [ :customer | customer firstName = 'Pepe'] ofType: Customer.
	pepe_address1 := Address new streetName: 'San Martin'; streetNumber: '3322';province: 'BsAs'; town: 'Olivos'; zipCode: '1636'.
	pepe_address2 := Address new streetName: 'Maipu'; streetNumber: '888';province: 'Buenos Aires'; town: 'Florida'; zipCode: '1122'.
	juan := session select: [ :customer | customer firstName = 'Juan'] ofType: Customer.
	juan_address := Address new streetName: 'Alem'; streetNumber: '1122';province: 'CABA'; town: 'CABA'; zipCode: '1001'.
	
	self assert: (pepe anyOne addresses = OrderedCollection with: pepe_address1 with: pepe_address2) & (juan anyOne addresses = OrderedCollection with: juan_address).
	
	! !

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/25/2023 22:10:56'!
ERROR!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 22:12:05' prior: 50625875!
test05ImportingCustomersShowsCorrectCustomerAddresses

	| juan pepe juan_address pepe_address1 pepe_address2 |
	self importCustomers.
	
	pepe := session select: [ :customer | customer firstName = 'Pepe'] ofType: Customer.
	pepe_address1 := Address new streetName: 'San Martin'; streetNumber: '3322';province: 'BsAs'; town: 'Olivos'; zipCode: '1636'.
	pepe_address2 := Address new streetName: 'Maipu'; streetNumber: '888';province: 'Buenos Aires'; town: 'Florida'; zipCode: '1122'.
	juan := session select: [ :customer | customer firstName = 'Juan'] ofType: Customer.
	juan_address := Address new streetName: 'Alem'; streetNumber: '1122';province: 'CABA'; town: 'CABA'; zipCode: '1001'.
	
	self assert: (pepe anyOne addresses = (OrderedCollection with: pepe_address1 with: pepe_address2)) & (juan anyOne addresses = (OrderedCollection with: juan_address)).
	
	! !

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/25/2023 22:12:06'!
FAILURE!

pepe anyOne addresses!

pepe anyOne addresses!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 22:13:47' prior: 50625509!
importCustomers

	| inputStream  newCustomer line |

	inputStream := UniFileStream new open: 'input.txt' forWrite: false.

	line := inputStream nextLine.
	[ line notNil ] whileTrue: [
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer new.
			newCustomer firstName: customerData second.
			newCustomer lastName: customerData third.
			newCustomer identificationType: customerData fourth.
			newCustomer identificationNumber: customerData fifth.
			session persist: newCustomer ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := Address new.
			newCustomer addAddress: newAddress.
			newAddress streetName: addressData second.
			newAddress streetNumber: addressData third asNumber .
			newAddress town: addressData fourth.
			newAddress zipCode: addressData fifth asNumber .
			newAddress province: addressData sixth ].

		line := inputStream nextLine. ].


	inputStream close.
	! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 22:13:50'!
PASSED!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/25/2023 22:13:51'!
PASSED!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/25/2023 22:13:51'!
PASSED!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/25/2023 22:13:52'!
PASSED!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/25/2023 22:13:53'!
FAILURE!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/25/2023 22:13:54'!
FAILURE!

pepe anyOne addresses!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 22:15:39' prior: 50625909!
test05ImportingCustomersShowsCorrectCustomerAddresses

	| juan pepe juan_address pepe_address1 pepe_address2 |
	self importCustomers.
	
	pepe := session select: [ :customer | customer firstName = 'Pepe'] ofType: Customer.
	pepe_address1 := Address new streetName: 'San Martin'; streetNumber: 3322;province: 'BsAs'; town: 'Olivos'; zipCode: 1636.
	pepe_address2 := Address new streetName: 'Maipu'; streetNumber: 888;province: 'Buenos Aires'; town: 'Florida'; zipCode: 1122.
	juan := session select: [ :customer | customer firstName = 'Juan'] ofType: Customer.
	juan_address := Address new streetName: 'Alem'; streetNumber: 1122;province: 'CABA'; town: 'CABA'; zipCode: 1001.
	
	self assert: (pepe anyOne addresses = (OrderedCollection with: pepe_address1 with: pepe_address2)) & (juan anyOne addresses = (OrderedCollection with: juan_address)).
	
	! !

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/25/2023 22:15:41'!
FAILURE!

pepe anyOne addresses!

pepe_address1 := Address new streetName: 'San Martin'; streetNumber: 3322;province: 'BsAs'; town: 'Olivos'; zipCode: 1636.!

pepe_address1 identificationNumber !

pepe_address1 id!

pepe_address1!

pepe anyOne addresses!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 22:22:26'!
pepeAddress1

	^ Address new streetName: 'San Martin'; streetNumber: 3322;province: 'BsAs'; town: 'Olivos'; zipCode: 1636! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 22:22:26' prior: 50626004!
test05ImportingCustomersShowsCorrectCustomerAddresses

	| juan pepe juan_address pepe_address1 pepe_address2 |
	self importCustomers.
	
	pepe := session select: [ :customer | customer firstName = 'Pepe'] ofType: Customer.
	pepe_address1 := self pepeAddress1.
	pepe_address2 := Address new streetName: 'Maipu'; streetNumber: 888;province: 'Buenos Aires'; town: 'Florida'; zipCode: 1122.
	juan := session select: [ :customer | customer firstName = 'Juan'] ofType: Customer.
	juan_address := Address new streetName: 'Alem'; streetNumber: 1122;province: 'CABA'; town: 'CABA'; zipCode: 1001.
	
	self assert: (pepe anyOne addresses = (OrderedCollection with: pepe_address1 with: pepe_address2)) & (juan anyOne addresses = (OrderedCollection with: juan_address)).
	
	! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 22:22:34'!
pepeAddress2

	^ Address new streetName: 'Maipu'; streetNumber: 888;province: 'Buenos Aires'; town: 'Florida'; zipCode: 1122! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 22:22:34' prior: 50626052!
test05ImportingCustomersShowsCorrectCustomerAddresses

	| juan pepe juan_address pepe_address1 pepe_address2 |
	self importCustomers.
	
	pepe := session select: [ :customer | customer firstName = 'Pepe'] ofType: Customer.
	pepe_address1 := self pepeAddress1.
	pepe_address2 := self pepeAddress2.
	juan := session select: [ :customer | customer firstName = 'Juan'] ofType: Customer.
	juan_address := Address new streetName: 'Alem'; streetNumber: 1122;province: 'CABA'; town: 'CABA'; zipCode: 1001.
	
	self assert: (pepe anyOne addresses = (OrderedCollection with: pepe_address1 with: pepe_address2)) & (juan anyOne addresses = (OrderedCollection with: juan_address)).
	
	! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 22:22:43'!
juanAddress

	^ Address new streetName: 'Alem'; streetNumber: 1122;province: 'CABA'; town: 'CABA'; zipCode: 1001! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 22:22:43' prior: 50626086!
test05ImportingCustomersShowsCorrectCustomerAddresses

	| juan pepe juan_address pepe_address1 pepe_address2 |
	self importCustomers.
	
	pepe := session select: [ :customer | customer firstName = 'Pepe'] ofType: Customer.
	pepe_address1 := self pepeAddress1.
	pepe_address2 := self pepeAddress2.
	juan := session select: [ :customer | customer firstName = 'Juan'] ofType: Customer.
	juan_address := self juanAddress.
	
	self assert: (pepe anyOne addresses = (OrderedCollection with: pepe_address1 with: pepe_address2)) & (juan anyOne addresses = (OrderedCollection with: juan_address)).
	
	! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 22:23:35' prior: 50626117!
test05ImportingCustomersShowsCorrectCustomerAddresses

	| juan pepe |
	self importCustomers.
	
	pepe := session select: [ :customer | customer firstName = 'Pepe'] ofType: Customer.	
	juan := session select: [ :customer | customer firstName = 'Juan'] ofType: Customer.
	
	self assert: (pepe anyOne addresses = (OrderedCollection with: self pepeAddress1 with:  self pepeAddress2)) & (juan anyOne addresses = (OrderedCollection with: self juanAddress)).
	
	! !

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/25/2023 22:23:40'!
FAILURE!
!Address methodsFor: 'nil' stamp: 'JV 6/25/2023 22:26:10' overrides: 16901772!
= anObject
	^(anObject province = province) & (anObject streetName = streetName) & (anObject streetNumber = streetNumber) & (anObject town = town) & (anObject zipCode = zipCode)! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 22:26:12'!
PASSED!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/25/2023 22:26:13'!
PASSED!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/25/2023 22:26:14'!
PASSED!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/25/2023 22:26:14'!
PASSED!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/25/2023 22:26:15'!
PASSED!

----SNAPSHOT----(25 June 2023 22:27:08) CuisUniversity-5832.image priorSource: 9411222!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 22:27:55'!
getPepeFromSession

	^ session select: [ :customer | customer firstName = 'Pepe'] ofType: Customer! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 22:27:55' prior: 50625804!
test04ImportingCustomersShowsCorrectCustomerIdentificationNumber

	| juan pepe |
	self importCustomers.
	
	pepe := self getPepeFromSession.
	juan := session select: [ :customer | customer firstName = 'Juan'] ofType: Customer.
	
	self assert: (pepe anyOne identificationNumber = '22333444') & (juan anyOne identificationNumber = '23-25666777-9').
	
	! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 22:27:55' prior: 50626139!
test05ImportingCustomersShowsCorrectCustomerAddresses

	| juan pepe |
	self importCustomers.
	
	pepe := self getPepeFromSession.	
	juan := session select: [ :customer | customer firstName = 'Juan'] ofType: Customer.
	
	self assert: (pepe anyOne addresses = (OrderedCollection with: self pepeAddress1 with:  self pepeAddress2)) & (juan anyOne addresses = (OrderedCollection with: self juanAddress)).
	
	! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 22:27:55' prior: 50625758!
test03ImportingCustomersShowsCorrectCustomerIdentificationType

	| juan pepe |
	self importCustomers.
	
	pepe := self getPepeFromSession.
	juan := session select: [ :customer | customer firstName = 'Juan'] ofType: Customer.
	
	self assert: (pepe anyOne identificationType = 'D') & (juan anyOne identificationType = 'C').
	
	! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 22:27:55' prior: 50625727!
test02ImportingCustomersShowsCorrectCustomerNames

	| juan pepe |
	self importCustomers.
	
	pepe := self getPepeFromSession.
	juan := session select: [ :customer | customer firstName = 'Juan'] ofType: Customer.
	
	self assert: (pepe anyOne lastName = 'Sanchez') & (juan anyOne lastName = 'Perez').
	
	! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 22:28:16'!
getJuanFromSession

	^ session select: [ :customer | customer firstName = 'Juan'] ofType: Customer! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 22:28:16' prior: 50626197!
test04ImportingCustomersShowsCorrectCustomerIdentificationNumber

	| juan pepe |
	self importCustomers.
	
	pepe := self getPepeFromSession.
	juan := self getJuanFromSession.
	
	self assert: (pepe anyOne identificationNumber = '22333444') & (juan anyOne identificationNumber = '23-25666777-9').
	
	! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 22:28:16' prior: 50626211!
test05ImportingCustomersShowsCorrectCustomerAddresses

	| juan pepe |
	self importCustomers.
	
	pepe := self getPepeFromSession.	
	juan := self getJuanFromSession.
	
	self assert: (pepe anyOne addresses = (OrderedCollection with: self pepeAddress1 with:  self pepeAddress2)) & (juan anyOne addresses = (OrderedCollection with: self juanAddress)).
	
	! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 22:28:16' prior: 50626227!
test03ImportingCustomersShowsCorrectCustomerIdentificationType

	| juan pepe |
	self importCustomers.
	
	pepe := self getPepeFromSession.
	juan := self getJuanFromSession.
	
	self assert: (pepe anyOne identificationType = 'D') & (juan anyOne identificationType = 'C').
	
	! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 22:28:16' prior: 50626241!
test02ImportingCustomersShowsCorrectCustomerNames

	| juan pepe |
	self importCustomers.
	
	pepe := self getPepeFromSession.
	juan := self getJuanFromSession.
	
	self assert: (pepe anyOne lastName = 'Sanchez') & (juan anyOne lastName = 'Perez').
	
	! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 22:28:52' prior: 50626273!
test05ImportingCustomersShowsCorrectCustomerAddresses

	| juan pepe |
	self importCustomers.
	
	pepe := self getPepeFromSession anyOne.	
	juan := self getJuanFromSession.
	
	self assert: (pepe addresses = (OrderedCollection with: self pepeAddress1 with:  self pepeAddress2)) & (juan anyOne addresses = (OrderedCollection with: self juanAddress)).
	
	! !

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/25/2023 22:28:53'!
PASSED!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 22:28:53'!
PASSED!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/25/2023 22:28:54'!
PASSED!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/25/2023 22:28:55'!
PASSED!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/25/2023 22:28:56'!
PASSED!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/25/2023 22:28:56'!
PASSED!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 22:29:12' prior: 50626310!
test05ImportingCustomersShowsCorrectCustomerAddresses

	| juan pepe |
	self importCustomers.
	
	pepe := self getPepeFromSession anyOne.	
	juan := self getJuanFromSession anyOne.
	
	self assert: (pepe addresses = (OrderedCollection with: self pepeAddress1 with:  self pepeAddress2)) & (juan addresses = (OrderedCollection with: self juanAddress)).
	
	! !

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/25/2023 22:29:13'!
PASSED!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 22:29:14'!
PASSED!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/25/2023 22:29:15'!
PASSED!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/25/2023 22:29:16'!
PASSED!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/25/2023 22:29:16'!
PASSED!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/25/2023 22:29:17'!
PASSED!
!Customer methodsFor: 'initialization' stamp: 'JV 6/25/2023 22:30:14' prior: 50624488 overrides: 16920235!
initialize

	super initialize.
	addresses := Set new.! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 22:30:25' prior: 50626347!
test05ImportingCustomersShowsCorrectCustomerAddresses

	| juan pepe |
	self importCustomers.
	
	pepe := self getPepeFromSession anyOne.	
	juan := self getJuanFromSession anyOne.
	
	self assert: (pepe addresses = (Set with: self pepeAddress1 with:  self pepeAddress2)) & (juan addresses = (Set with: self juanAddress)).
	
	! !

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/25/2023 22:30:26'!
FAILURE!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 22:31:45' prior: 50626389!
test05ImportingCustomersShowsCorrectCustomerAddresses

	| juan pepe |
	self importCustomers.
	
	pepe := self getPepeFromSession anyOne.	
	juan := self getJuanFromSession anyOne.
	
	self assert: pepe addresses = (Set with: self pepeAddress1 with: self pepeAddress2).
	self assert: juan addresses equals: (Set with: self juanAddress).
	
	! !

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/25/2023 22:31:46'!
PASSED!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 22:31:47'!
PASSED!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/25/2023 22:31:48'!
PASSED!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/25/2023 22:31:48'!
PASSED!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/25/2023 22:31:49'!
PASSED!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/25/2023 22:31:50'!
FAILURE!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/25/2023 22:31:51'!
FAILURE!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 22:32:11'!
PASSED!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/25/2023 22:32:12'!
PASSED!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/25/2023 22:32:12'!
PASSED!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/25/2023 22:32:13'!
PASSED!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/25/2023 22:32:14'!
FAILURE!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/25/2023 22:32:14'!
FAILURE!

pepe addresses!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/25/2023 22:34:05'!
FAILURE!

(Set with: self juanAddress)!
!Customer methodsFor: 'initialization' stamp: 'JV 6/25/2023 22:36:31' prior: 50626384 overrides: 16920235!
initialize

	super initialize.
	addresses := OrderedCollection new.! !

!methodRemoval: DataBaseSession #customer: stamp: 'JV 6/25/2023 22:36:51'!
customer: aRenameMe1 
	self shouldBeImplemented.!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 22:37:07' prior: 50626406!
test05ImportingCustomersShowsCorrectCustomerAddresses

	| juan pepe |
	self importCustomers.
	
	pepe := self getPepeFromSession anyOne.	
	juan := self getJuanFromSession anyOne.
	
	self assert: pepe addresses = (OrderedCollection with: self pepeAddress1 with: self pepeAddress2).
	self assert: juan addresses equals: (OrderedCollection with: self juanAddress).
	
	! !

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/25/2023 22:37:09'!
PASSED!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 22:37:10'!
PASSED!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/25/2023 22:37:11'!
PASSED!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/25/2023 22:37:11'!
PASSED!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/25/2023 22:37:12'!
PASSED!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/25/2023 22:37:13'!
PASSED!

!methodRemoval: DataBaseSession #customers stamp: 'JV 6/25/2023 22:37:51'!
customers
	^self selectAllOfType: Customer.!
!ImportTest methodsFor: 'testing' stamp: 'JV 6/25/2023 22:37:51' prior: 50625352!
namesAreCorrect
	^(session selectAllOfType: Customer) inject: true into: [ :namesAreCorrect :customer | 
		namesAreCorrect and customer] ! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 22:37:56'!
PASSED!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/25/2023 22:37:56'!
PASSED!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/25/2023 22:37:57'!
PASSED!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/25/2023 22:37:58'!
PASSED!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/25/2023 22:37:59'!
PASSED!

----SNAPSHOT----(25 June 2023 22:38:03) CuisUniversity-5832.image priorSource: 9425162!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 22:38:41' prior: 50626299!
test02ImportingCustomersShowsCorrectCustomerNames

	| juan pepe |
	self importCustomers.
	
	pepe := self getPepeFromSession anyOne.
	juan := self getJuanFromSession anyOne.
	
	self assert: (pepe anyOne lastName = 'Sanchez') & (juan anyOne lastName = 'Perez').
	
	! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 22:38:46' prior: 50626554!
test02ImportingCustomersShowsCorrectCustomerNames

	| juan pepe |
	self importCustomers.
	
	pepe := self getPepeFromSession anyOne.
	juan := self getJuanFromSession anyOne.
	
	self assert: (pepe lastName = 'Sanchez') & (juan lastName = 'Perez').
	
	! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 22:38:58' prior: 50626287!
test03ImportingCustomersShowsCorrectCustomerIdentificationType

	| juan pepe |
	self importCustomers.
	
	pepe := self getPepeFromSession anyOne.
	juan := self getJuanFromSession anyOne.
	
	self assert: (pepe identificationType = 'D') & (juan identificationType = 'C').
	
	! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 22:39:10' prior: 50626260!
test04ImportingCustomersShowsCorrectCustomerIdentificationNumber

	| juan pepe |
	self importCustomers.
	
	pepe := self getPepeFromSession anyOne.
	juan := self getJuanFromSession anyOne.
	
	self assert: (pepe identificationNumber = '22333444') & (juan identificationNumber = '23-25666777-9').
	
	! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 22:40:00' prior: 50626484!
test05ImportingCustomersShowsCorrectCustomerAddresses

	| juan pepe |
	self importCustomers.
	
	pepe := self getPepeFromSession anyOne.	
	juan := self getJuanFromSession anyOne.
	
	self assert: (OrderedCollection with: self pepeAddress1 with: self pepeAddress2) equals: pepe addresses.
	self assert: (OrderedCollection with: self juanAddress) equals: juan addresses.
	
	! !

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/25/2023 22:40:02'!
PASSED!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 22:40:03'!
PASSED!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/25/2023 22:40:03'!
PASSED!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/25/2023 22:40:04'!
PASSED!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/25/2023 22:40:05'!
PASSED!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/25/2023 22:40:05'!
PASSED!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 22:40:14' prior: 50626602!
test05ImportingCustomersShowsCorrectCustomerAddresses

	| juan pepe |
	self importCustomers.
	
	pepe := self getPepeFromSession anyOne.	
	juan := self getJuanFromSession anyOne.
	
	self assert: (Set with: self pepeAddress1 with: self pepeAddress2) equals: pepe addresses.
	self assert: (Set with: self juanAddress) equals: juan addresses.
	
	! !
!Customer methodsFor: 'initialization' stamp: 'JV 6/25/2023 22:40:24' prior: 50626474 overrides: 16920235!
initialize

	super initialize.
	addresses := Set new.! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 22:40:27'!
PASSED!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/25/2023 22:40:27'!
PASSED!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/25/2023 22:40:28'!
PASSED!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/25/2023 22:40:29'!
PASSED!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/25/2023 22:40:29'!
FAILURE!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/25/2023 22:40:30'!
FAILURE!

self
		assert: expected = actual!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 22:44:24' prior: 50626639!
test05ImportingCustomersShowsCorrectCustomerAddresses

	| juan pepe |
	self importCustomers.
	
	pepe := self getPepeFromSession anyOne.	
	juan := self getJuanFromSession anyOne.
	
	self assert: (OrderedCollection with: self pepeAddress1 with: self pepeAddress2) equals: pepe addresses.
	self assert: (OrderedCollection with: self juanAddress) equals: juan addresses.
	
	! !
!Customer methodsFor: 'initialization' stamp: 'JV 6/25/2023 22:44:32' prior: 50626654 overrides: 16920235!
initialize

	super initialize.
	addresses := OrderedCollection new.! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 22:44:35'!
PASSED!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/25/2023 22:44:35'!
PASSED!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/25/2023 22:44:36'!
PASSED!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/25/2023 22:44:37'!
PASSED!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/25/2023 22:44:38'!
PASSED!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 22:53:49' prior: 50625945!
importCustomers

	| inputStream  newCustomer line stream |
	
	stream := Stream on: (
		OrderedCollection 
			with: 'C,Pepe,Sanchez,D,22333444'
			with:' A,San Martin,3322,Olivos,1636,BsAs'
			with: 'A,Maipu,888,Florida,1122,Buenos Aires'
			with: 'C,Juan,Perez,C,23-25666777-9'
			with: 'A,Alem,1122,CABA,1001,CABA'
			).

	inputStream := UniFileStream new open: 'input.txt' forWrite: false.

	line := inputStream nextLine.
	[ line notNil ] whileTrue: [
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer new.
			newCustomer firstName: customerData second.
			newCustomer lastName: customerData third.
			newCustomer identificationType: customerData fourth.
			newCustomer identificationNumber: customerData fifth.
			session persist: newCustomer ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := Address new.
			newCustomer addAddress: newAddress.
			newAddress streetName: addressData second.
			newAddress streetNumber: addressData third asNumber .
			newAddress town: addressData fourth.
			newAddress zipCode: addressData fifth asNumber .
			newAddress province: addressData sixth ].

		line := inputStream nextLine. ].


	inputStream close.
	! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 22:54:15' prior: 50626723!
importCustomers

	| inputStream  newCustomer line |
	
	inputStream := Stream on: (
		OrderedCollection 
			with: 'C,Pepe,Sanchez,D,22333444'
			with:' A,San Martin,3322,Olivos,1636,BsAs'
			with: 'A,Maipu,888,Florida,1122,Buenos Aires'
			with: 'C,Juan,Perez,C,23-25666777-9'
			with: 'A,Alem,1122,CABA,1001,CABA'
			).

	"inputStream := UniFileStream new open: 'input.txt' forWrite: false."

	line := inputStream nextLine.
	[ line notNil ] whileTrue: [
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer new.
			newCustomer firstName: customerData second.
			newCustomer lastName: customerData third.
			newCustomer identificationType: customerData fourth.
			newCustomer identificationNumber: customerData fifth.
			session persist: newCustomer ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := Address new.
			newCustomer addAddress: newAddress.
			newAddress streetName: addressData second.
			newAddress streetNumber: addressData third asNumber .
			newAddress town: addressData fourth.
			newAddress zipCode: addressData fifth asNumber .
			newAddress province: addressData sixth ].

		line := inputStream nextLine. ].


	inputStream close.
	! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 22:54:25'!
ERROR!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/25/2023 22:54:25'!
ERROR!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/25/2023 22:54:25'!
ERROR!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/25/2023 22:54:25'!
ERROR!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/25/2023 22:54:25'!
ERROR!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 22:54:27'!
ERROR!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 22:56:47' prior: 50626767!
importCustomers

	| inputStream  newCustomer line |
	
	inputStream := PositionableStream on: (
		OrderedCollection 
			with: 'C,Pepe,Sanchez,D,22333444'
			with:' A,San Martin,3322,Olivos,1636,BsAs'
			with: 'A,Maipu,888,Florida,1122,Buenos Aires'
			with: 'C,Juan,Perez,C,23-25666777-9'
			with: 'A,Alem,1122,CABA,1001,CABA'
			).

	"inputStream := UniFileStream new open: 'input.txt' forWrite: false."

	line := inputStream nextLine.
	[ line notNil ] whileTrue: [
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer new.
			newCustomer firstName: customerData second.
			newCustomer lastName: customerData third.
			newCustomer identificationType: customerData fourth.
			newCustomer identificationNumber: customerData fifth.
			session persist: newCustomer ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := Address new.
			newCustomer addAddress: newAddress.
			newAddress streetName: addressData second.
			newAddress streetNumber: addressData third asNumber .
			newAddress town: addressData fourth.
			newAddress zipCode: addressData fifth asNumber .
			newAddress province: addressData sixth ].

		line := inputStream nextLine. ].


	inputStream close.
	! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 22:56:48'!
ERROR!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 22:56:55'!
ERROR!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/25/2023 22:56:55'!
ERROR!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/25/2023 22:56:56'!
ERROR!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/25/2023 22:56:56'!
ERROR!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/25/2023 22:56:56'!
ERROR!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 22:56:58'!
ERROR!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 22:57:41' prior: 50626833!
importCustomers

	| inputStream  newCustomer line |
	
	inputStream := Stream with: (
		OrderedCollection 
			with: 'C,Pepe,Sanchez,D,22333444'
			with:' A,San Martin,3322,Olivos,1636,BsAs'
			with: 'A,Maipu,888,Florida,1122,Buenos Aires'
			with: 'C,Juan,Perez,C,23-25666777-9'
			with: 'A,Alem,1122,CABA,1001,CABA'
			).

	"inputStream := UniFileStream new open: 'input.txt' forWrite: false."

	line := inputStream nextLine.
	[ line notNil ] whileTrue: [
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer new.
			newCustomer firstName: customerData second.
			newCustomer lastName: customerData third.
			newCustomer identificationType: customerData fourth.
			newCustomer identificationNumber: customerData fifth.
			session persist: newCustomer ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := Address new.
			newCustomer addAddress: newAddress.
			newAddress streetName: addressData second.
			newAddress streetNumber: addressData third asNumber .
			newAddress town: addressData fourth.
			newAddress zipCode: addressData fifth asNumber .
			newAddress province: addressData sixth ].

		line := inputStream nextLine. ].


	inputStream close.
	! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 22:57:42'!
ERROR!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 22:58:05' prior: 50626903!
importCustomers

	| inputStream  newCustomer line |
	
	inputStream := UniFileStream with: (
		OrderedCollection 
			with: 'C,Pepe,Sanchez,D,22333444'
			with:' A,San Martin,3322,Olivos,1636,BsAs'
			with: 'A,Maipu,888,Florida,1122,Buenos Aires'
			with: 'C,Juan,Perez,C,23-25666777-9'
			with: 'A,Alem,1122,CABA,1001,CABA'
			).

	"inputStream := UniFileStream new open: 'input.txt' forWrite: false."

	line := inputStream nextLine.
	[ line notNil ] whileTrue: [
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer new.
			newCustomer firstName: customerData second.
			newCustomer lastName: customerData third.
			newCustomer identificationType: customerData fourth.
			newCustomer identificationNumber: customerData fifth.
			session persist: newCustomer ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := Address new.
			newCustomer addAddress: newAddress.
			newAddress streetName: addressData second.
			newAddress streetNumber: addressData third asNumber .
			newAddress town: addressData fourth.
			newAddress zipCode: addressData fifth asNumber .
			newAddress province: addressData sixth ].

		line := inputStream nextLine. ].


	inputStream close.
	! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 22:58:08'!
ERROR!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/25/2023 22:58:08'!
ERROR!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/25/2023 22:58:08'!
ERROR!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/25/2023 22:58:08'!
ERROR!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/25/2023 22:58:08'!
ERROR!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 22:58:10'!
ERROR!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 23:00:58' prior: 50626950!
importCustomers

	| inputStream  newCustomer line |
	
	inputStream := Stream on: ''; nextPutAll: (
		OrderedCollection 
			with: 'C,Pepe,Sanchez,D,22333444'
			with:' A,San Martin,3322,Olivos,1636,BsAs'
			with: 'A,Maipu,888,Florida,1122,Buenos Aires'
			with: 'C,Juan,Perez,C,23-25666777-9'
			with: 'A,Alem,1122,CABA,1001,CABA'
			).

	"inputStream := UniFileStream new open: 'input.txt' forWrite: false."

	line := inputStream nextLine.
	[ line notNil ] whileTrue: [
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer new.
			newCustomer firstName: customerData second.
			newCustomer lastName: customerData third.
			newCustomer identificationType: customerData fourth.
			newCustomer identificationNumber: customerData fifth.
			session persist: newCustomer ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := Address new.
			newCustomer addAddress: newAddress.
			newAddress streetName: addressData second.
			newAddress streetNumber: addressData third asNumber .
			newAddress town: addressData fourth.
			newAddress zipCode: addressData fifth asNumber .
			newAddress province: addressData sixth ].

		line := inputStream nextLine. ].


	inputStream close.
	! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 23:00:59'!
ERROR!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/25/2023 23:00:59'!
ERROR!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/25/2023 23:00:59'!
ERROR!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/25/2023 23:00:59'!
ERROR!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/25/2023 23:00:59'!
ERROR!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 23:01:03'!
ERROR!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 23:01:28' prior: 50627016!
importCustomers

	| inputStream  newCustomer line |
	
	inputStream := Stream with: ''; nextPutAll: (
		OrderedCollection 
			with: 'C,Pepe,Sanchez,D,22333444'
			with:' A,San Martin,3322,Olivos,1636,BsAs'
			with: 'A,Maipu,888,Florida,1122,Buenos Aires'
			with: 'C,Juan,Perez,C,23-25666777-9'
			with: 'A,Alem,1122,CABA,1001,CABA'
			).

	"inputStream := UniFileStream new open: 'input.txt' forWrite: false."

	line := inputStream nextLine.
	[ line notNil ] whileTrue: [
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer new.
			newCustomer firstName: customerData second.
			newCustomer lastName: customerData third.
			newCustomer identificationType: customerData fourth.
			newCustomer identificationNumber: customerData fifth.
			session persist: newCustomer ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := Address new.
			newCustomer addAddress: newAddress.
			newAddress streetName: addressData second.
			newAddress streetNumber: addressData third asNumber .
			newAddress town: addressData fourth.
			newAddress zipCode: addressData fifth asNumber .
			newAddress province: addressData sixth ].

		line := inputStream nextLine. ].


	inputStream close.
	! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 23:01:28'!
ERROR!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/25/2023 23:01:28'!
ERROR!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/25/2023 23:01:28'!
ERROR!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/25/2023 23:01:28'!
ERROR!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/25/2023 23:01:28'!
ERROR!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 23:01:31'!
ERROR!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 23:01:40' prior: 50627082!
importCustomers

	| inputStream  newCustomer line |
	
	inputStream := Stream new nextPutAll: (
		OrderedCollection 
			with: 'C,Pepe,Sanchez,D,22333444'
			with:' A,San Martin,3322,Olivos,1636,BsAs'
			with: 'A,Maipu,888,Florida,1122,Buenos Aires'
			with: 'C,Juan,Perez,C,23-25666777-9'
			with: 'A,Alem,1122,CABA,1001,CABA'
			).

	"inputStream := UniFileStream new open: 'input.txt' forWrite: false."

	line := inputStream nextLine.
	[ line notNil ] whileTrue: [
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer new.
			newCustomer firstName: customerData second.
			newCustomer lastName: customerData third.
			newCustomer identificationType: customerData fourth.
			newCustomer identificationNumber: customerData fifth.
			session persist: newCustomer ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := Address new.
			newCustomer addAddress: newAddress.
			newAddress streetName: addressData second.
			newAddress streetNumber: addressData third asNumber .
			newAddress town: addressData fourth.
			newAddress zipCode: addressData fifth asNumber .
			newAddress province: addressData sixth ].

		line := inputStream nextLine. ].


	inputStream close.
	! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 23:01:41'!
ERROR!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/25/2023 23:01:41'!
ERROR!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/25/2023 23:01:41'!
ERROR!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/25/2023 23:01:41'!
ERROR!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/25/2023 23:01:41'!
ERROR!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 23:01:43'!
ERROR!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 23:01:58' prior: 50627148!
importCustomers

	| inputStream  newCustomer line |
	
	inputStream := Stream on: (
		OrderedCollection 
			with: 'C,Pepe,Sanchez,D,22333444'
			with:' A,San Martin,3322,Olivos,1636,BsAs'
			with: 'A,Maipu,888,Florida,1122,Buenos Aires'
			with: 'C,Juan,Perez,C,23-25666777-9'
			with: 'A,Alem,1122,CABA,1001,CABA'
			).

	"inputStream := UniFileStream new open: 'input.txt' forWrite: false."

	line := inputStream nextLine.
	[ line notNil ] whileTrue: [
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer new.
			newCustomer firstName: customerData second.
			newCustomer lastName: customerData third.
			newCustomer identificationType: customerData fourth.
			newCustomer identificationNumber: customerData fifth.
			session persist: newCustomer ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := Address new.
			newCustomer addAddress: newAddress.
			newAddress streetName: addressData second.
			newAddress streetNumber: addressData third asNumber .
			newAddress town: addressData fourth.
			newAddress zipCode: addressData fifth asNumber .
			newAddress province: addressData sixth ].

		line := inputStream nextLine. ].


	inputStream close.
	! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 23:01:59'!
ERROR!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/25/2023 23:01:59'!
ERROR!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/25/2023 23:01:59'!
ERROR!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/25/2023 23:01:59'!
ERROR!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/25/2023 23:01:59'!
ERROR!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 23:02:02'!
ERROR!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 23:03:17' prior: 50627214!
importCustomers

	| inputStream  newCustomer line |
	
	inputStream := ReadStream on: (
		OrderedCollection 
			with: 'C,Pepe,Sanchez,D,22333444'
			with:' A,San Martin,3322,Olivos,1636,BsAs'
			with: 'A,Maipu,888,Florida,1122,Buenos Aires'
			with: 'C,Juan,Perez,C,23-25666777-9'
			with: 'A,Alem,1122,CABA,1001,CABA'
			) from: 1 to: 5.

	"inputStream := UniFileStream new open: 'input.txt' forWrite: false."

	line := inputStream nextLine.
	[ line notNil ] whileTrue: [
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer new.
			newCustomer firstName: customerData second.
			newCustomer lastName: customerData third.
			newCustomer identificationType: customerData fourth.
			newCustomer identificationNumber: customerData fifth.
			session persist: newCustomer ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := Address new.
			newCustomer addAddress: newAddress.
			newAddress streetName: addressData second.
			newAddress streetNumber: addressData third asNumber .
			newAddress town: addressData fourth.
			newAddress zipCode: addressData fifth asNumber .
			newAddress province: addressData sixth ].

		line := inputStream nextLine. ].


	inputStream close.
	! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 23:03:19'!
FAILURE!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/25/2023 23:03:19'!
ERROR!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/25/2023 23:03:19'!
ERROR!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/25/2023 23:03:19'!
ERROR!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/25/2023 23:03:19'!
ERROR!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 23:03:22'!
FAILURE!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 23:03:45' prior: 50627280!
importCustomers

	| inputStream  newCustomer line |
	
	inputStream := ReadStream on: (
		OrderedCollection 
			with: 'C,Pepe,Sanchez,D,22333444'
			with:' A,San Martin,3322,Olivos,1636,BsAs'
			with: 'A,Maipu,888,Florida,1122,Buenos Aires'
			with: 'C,Juan,Perez,C,23-25666777-9'
			with: 'A,Alem,1122,CABA,1001,CABA'
			) from: 0 to: 4.

	"inputStream := UniFileStream new open: 'input.txt' forWrite: false."

	line := inputStream nextLine.
	[ line notNil ] whileTrue: [
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer new.
			newCustomer firstName: customerData second.
			newCustomer lastName: customerData third.
			newCustomer identificationType: customerData fourth.
			newCustomer identificationNumber: customerData fifth.
			session persist: newCustomer ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := Address new.
			newCustomer addAddress: newAddress.
			newAddress streetName: addressData second.
			newAddress streetNumber: addressData third asNumber .
			newAddress town: addressData fourth.
			newAddress zipCode: addressData fifth asNumber .
			newAddress province: addressData sixth ].

		line := inputStream nextLine. ].


	inputStream close.
	! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 23:03:47'!
FAILURE!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/25/2023 23:03:47'!
ERROR!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/25/2023 23:03:47'!
ERROR!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/25/2023 23:03:47'!
ERROR!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/25/2023 23:03:47'!
ERROR!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 23:03:50'!
FAILURE!

inputStream nextLine!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 23:06:02' prior: 50627346!
importCustomers

	| inputStream  newCustomer line |
	
	inputStream := ReadStream on: 	
		'C,Pepe,Sanchez,D,22333444', 
		'A,San Martin,3322,Olivos,1636,BsAs', 
		'A,Maipu,888,Florida,1122,Buenos Aires',
		'C,Juan,Perez,C,23-25666777-9',
		'A,Alem,1122,CABA,1001,CABA'.

	"inputStream := UniFileStream new open: 'input.txt' forWrite: false."

	line := inputStream nextLine.
	[ line notNil ] whileTrue: [
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer new.
			newCustomer firstName: customerData second.
			newCustomer lastName: customerData third.
			newCustomer identificationType: customerData fourth.
			newCustomer identificationNumber: customerData fifth.
			session persist: newCustomer ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := Address new.
			newCustomer addAddress: newAddress.
			newAddress streetName: addressData second.
			newAddress streetNumber: addressData third asNumber .
			newAddress town: addressData fourth.
			newAddress zipCode: addressData fifth asNumber .
			newAddress province: addressData sixth ].

		line := inputStream nextLine. ].


	inputStream close.
	! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 23:06:10'!
FAILURE!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/25/2023 23:06:10'!
ERROR!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/25/2023 23:06:10'!
ERROR!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/25/2023 23:06:11'!
ERROR!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/25/2023 23:06:11'!
ERROR!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 23:06:13'!
FAILURE!

inputStream nextLine!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 23:08:09' prior: 50627413!
importCustomers

	| inputStream  newCustomer line |
	
	inputStream := ReadStream on: 	
		'C,Pepe,Sanchez,D,22333444', String newLineString,
		'A,San Martin,3322,Olivos,1636,BsAs' , String newLineString,
		'A,Maipu,888,Florida,1122,Buenos Aires', String newLineString,
		'C,Juan,Perez,C,23-25666777-9', String newLineString,
		'A,Alem,1122,CABA,1001,CABA'.

	"inputStream := UniFileStream new open: 'input.txt' forWrite: false."

	line := inputStream nextLine.
	[ line notNil ] whileTrue: [
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer new.
			newCustomer firstName: customerData second.
			newCustomer lastName: customerData third.
			newCustomer identificationType: customerData fourth.
			newCustomer identificationNumber: customerData fifth.
			session persist: newCustomer ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := Address new.
			newCustomer addAddress: newAddress.
			newAddress streetName: addressData second.
			newAddress streetNumber: addressData third asNumber .
			newAddress town: addressData fourth.
			newAddress zipCode: addressData fifth asNumber .
			newAddress province: addressData sixth ].

		line := inputStream nextLine. ].


	inputStream close.
	! !

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/25/2023 23:08:15'!
PASSED!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/25/2023 23:08:16'!
PASSED!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/25/2023 23:08:17'!
PASSED!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/25/2023 23:08:17'!
PASSED!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 23:08:18'!
PASSED!

----SNAPSHOT----(25 June 2023 23:08:53) CuisUniversity-5832.image priorSource: 9436802!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 23:09:12' prior: 50627478!
importCustomers

	| inputStream  newCustomer line |
	
	inputStream := Stream on: 	
		'C,Pepe,Sanchez,D,22333444', String newLineString,
		'A,San Martin,3322,Olivos,1636,BsAs' , String newLineString,
		'A,Maipu,888,Florida,1122,Buenos Aires', String newLineString,
		'C,Juan,Perez,C,23-25666777-9', String newLineString,
		'A,Alem,1122,CABA,1001,CABA'.

	"inputStream := UniFileStream new open: 'input.txt' forWrite: false."

	line := inputStream nextLine.
	[ line notNil ] whileTrue: [
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer new.
			newCustomer firstName: customerData second.
			newCustomer lastName: customerData third.
			newCustomer identificationType: customerData fourth.
			newCustomer identificationNumber: customerData fifth.
			session persist: newCustomer ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := Address new.
			newCustomer addAddress: newAddress.
			newAddress streetName: addressData second.
			newAddress streetNumber: addressData third asNumber .
			newAddress town: addressData fourth.
			newAddress zipCode: addressData fifth asNumber .
			newAddress province: addressData sixth ].

		line := inputStream nextLine. ].


	inputStream close.
	! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 23:09:13'!
ERROR!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/25/2023 23:09:13'!
ERROR!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/25/2023 23:09:13'!
ERROR!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/25/2023 23:09:13'!
ERROR!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/25/2023 23:09:13'!
ERROR!

!classDefinition: #CustomerImporter category: 'CustomerImporter' stamp: 'JV 6/25/2023 23:16:10'!
Object subclass: #CustomerImporter
	instanceVariableNames: 'inputStream session'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CustomerImporter'!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 23:15:50' prior: 50625272!
test01Importing5CustomersShows5CustomersInDBS

	| customerImporter inputStream |
	customerImporter := CustomerImporter stream: inputStream session: session.
	
	self assert: 2 equals: (customerImporter numberOfCustomers).
	
	! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 23:16:35' prior: 50627615!
test01Importing5CustomersShows5CustomersInDBS

	| customerImporter inputStream |
	
	inputStream := Stream on: 	
		'C,Pepe,Sanchez,D,22333444', String newLineString,
		'A,San Martin,3322,Olivos,1636,BsAs' , String newLineString,
		'A,Maipu,888,Florida,1122,Buenos Aires', String newLineString,
		'C,Juan,Perez,C,23-25666777-9', String newLineString,
		'A,Alem,1122,CABA,1001,CABA'.

	customerImporter := CustomerImporter stream: inputStream session: session.
	
	self assert: 2 equals: (customerImporter numberOfCustomers).
	
	! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 23:16:36'!
ERROR!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 23:16:57' prior: 50627626!
test01Importing5CustomersShows5CustomersInDBS

	| customerImporter inputStream |
	
	inputStream := ReadStream on: 	
		'C,Pepe,Sanchez,D,22333444', String newLineString,
		'A,San Martin,3322,Olivos,1636,BsAs' , String newLineString,
		'A,Maipu,888,Florida,1122,Buenos Aires', String newLineString,
		'C,Juan,Perez,C,23-25666777-9', String newLineString,
		'A,Alem,1122,CABA,1001,CABA'.

	customerImporter := CustomerImporter stream: inputStream session: session.
	
	self assert: 2 equals: (customerImporter numberOfCustomers).
	
	! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 23:16:59'!
ERROR!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 23:17:10' prior: 50627544!
importCustomers

	| inputStream  newCustomer line |
	
	inputStream := ReadStream on: 	
		'C,Pepe,Sanchez,D,22333444', String newLineString,
		'A,San Martin,3322,Olivos,1636,BsAs' , String newLineString,
		'A,Maipu,888,Florida,1122,Buenos Aires', String newLineString,
		'C,Juan,Perez,C,23-25666777-9', String newLineString,
		'A,Alem,1122,CABA,1001,CABA'.

	"inputStream := UniFileStream new open: 'input.txt' forWrite: false."

	line := inputStream nextLine.
	[ line notNil ] whileTrue: [
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer new.
			newCustomer firstName: customerData second.
			newCustomer lastName: customerData third.
			newCustomer identificationType: customerData fourth.
			newCustomer identificationNumber: customerData fifth.
			session persist: newCustomer ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := Address new.
			newCustomer addAddress: newAddress.
			newAddress streetName: addressData second.
			newAddress streetNumber: addressData third asNumber .
			newAddress town: addressData fourth.
			newAddress zipCode: addressData fifth asNumber .
			newAddress province: addressData sixth ].

		line := inputStream nextLine. ].


	inputStream close.
	! !
!CustomerImporter class methodsFor: 'class initialization' stamp: 'JV 6/25/2023 23:17:24'!
stream: inputStream session: aSession 
	self shouldBeImplemented.! !
!CustomerImporter class methodsFor: 'class initialization' stamp: 'JV 6/25/2023 23:17:48' prior: 50627717!
stream: inputStream session: aSession 
	^self new initializeWithStream: inputStream session: aSession ! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 23:17:51'!
ERROR!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 23:17:52'!
ERROR!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 23:18:02'!
ERROR!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 23:18:02'!
ERROR!

!classDefinition: #CustomerImporter category: 'CustomerImporter' stamp: 'JV 6/25/2023 23:18:09'!
Object subclass: #CustomerImporter
	instanceVariableNames: 'inputStream session inputStream_CHANGE_ME'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CustomerImporter'!
!CustomerImporter class methodsFor: 'class initialization' stamp: 'JV 6/25/2023 23:18:25' prior: 50627723!
stream: anInputStream session: aSession 
	^self new initializeWithStream: anInputStream session: aSession ! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 23:18:27'!
ERROR!
!CustomerImporter methodsFor: 'initialization' stamp: 'JV 6/25/2023 23:18:37'!
initializeWithStream: anInputStream session: aSession 
	self shouldBeImplemented.
	inputStream := anInputStream.
	session := aSession.! !
!CustomerImporter methodsFor: 'initialization' stamp: 'JV 6/25/2023 23:18:44' prior: 50627762!
initializeWithStream: anInputStream session: aSession 
	
	inputStream := anInputStream.
	session := aSession.! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 23:18:47'!
ERROR!
!CustomerImporter methodsFor: 'accessing' stamp: 'JV 6/25/2023 23:18:59'!
numberOfCustomers
	self shouldBeImplemented.! !
!CustomerImporter methodsFor: 'accessing' stamp: 'JV 6/25/2023 23:19:02' prior: 50627780!
numberOfCustomers
	! !
!CustomerImporter methodsFor: 'initialization' stamp: 'JV 6/25/2023 23:20:01' prior: 50627770!
initializeWithStream: anInputStream session: aSession 
	
	| line |
	inputStream := anInputStream.
	session := aSession.
	
	line := inputStream nextLine.
	[ line notNil ] whileTrue: [ | newCustomer |
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer new.
			newCustomer firstName: customerData second.
			newCustomer lastName: customerData third.
			newCustomer identificationType: customerData fourth.
			newCustomer identificationNumber: customerData fifth.
			session persist: newCustomer ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := Address new.
			newCustomer addAddress: newAddress.
			newAddress streetName: addressData second.
			newAddress streetNumber: addressData third asNumber .
			newAddress town: addressData fourth.
			newAddress zipCode: addressData fifth asNumber .
			newAddress province: addressData sixth ].

		line := inputStream nextLine. ].


	inputStream close.! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 23:20:15'!
ERROR!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/25/2023 23:20:15'!
PASSED!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/25/2023 23:20:16'!
PASSED!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/25/2023 23:20:16'!
PASSED!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/25/2023 23:20:17'!
PASSED!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 23:20:18'!
ERROR!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 23:21:27'!
_test01Importing5CustomersShows5CustomersInDBS

	| customerImporter inputStream |
	
	inputStream := ReadStream on: 	
		'C,Pepe,Sanchez,D,22333444', String newLineString,
		'A,San Martin,3322,Olivos,1636,BsAs' , String newLineString,
		'A,Maipu,888,Florida,1122,Buenos Aires', String newLineString,
		'C,Juan,Perez,C,23-25666777-9', String newLineString,
		'A,Alem,1122,CABA,1001,CABA'.

	customerImporter := CustomerImporter stream: inputStream session: session.
	
	self assert: 2 equals: (customerImporter numberOfCustomers).
	
	! !

!methodRemoval: ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 23:21:27'!
test01Importing5CustomersShows5CustomersInDBS

	| customerImporter inputStream |
	
	inputStream := ReadStream on: 	
		'C,Pepe,Sanchez,D,22333444', String newLineString,
		'A,San Martin,3322,Olivos,1636,BsAs' , String newLineString,
		'A,Maipu,888,Florida,1122,Buenos Aires', String newLineString,
		'C,Juan,Perez,C,23-25666777-9', String newLineString,
		'A,Alem,1122,CABA,1001,CABA'.

	customerImporter := CustomerImporter stream: inputStream session: session.
	
	self assert: 2 equals: (customerImporter numberOfCustomers).
	
	!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/25/2023 23:21:29'!
PASSED!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/25/2023 23:21:30'!
PASSED!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/25/2023 23:21:31'!
PASSED!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/25/2023 23:21:31'!
PASSED!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 23:21:37'!
test01Importing5CustomersShows5CustomersInDBS

	| customerImporter inputStream |
	
	inputStream := ReadStream on: 	
		'C,Pepe,Sanchez,D,22333444', String newLineString,
		'A,San Martin,3322,Olivos,1636,BsAs' , String newLineString,
		'A,Maipu,888,Florida,1122,Buenos Aires', String newLineString,
		'C,Juan,Perez,C,23-25666777-9', String newLineString,
		'A,Alem,1122,CABA,1001,CABA'.

	customerImporter := CustomerImporter stream: inputStream session: session.
	
	self assert: 2 equals: (customerImporter numberOfCustomers).
	
	! !

!methodRemoval: ImportTest #_test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 23:21:37'!
_test01Importing5CustomersShows5CustomersInDBS

	| customerImporter inputStream |
	
	inputStream := ReadStream on: 	
		'C,Pepe,Sanchez,D,22333444', String newLineString,
		'A,San Martin,3322,Olivos,1636,BsAs' , String newLineString,
		'A,Maipu,888,Florida,1122,Buenos Aires', String newLineString,
		'C,Juan,Perez,C,23-25666777-9', String newLineString,
		'A,Alem,1122,CABA,1001,CABA'.

	customerImporter := CustomerImporter stream: inputStream session: session.
	
	self assert: 2 equals: (customerImporter numberOfCustomers).
	
	!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 23:21:56' prior: 50627901!
test01Importing5CustomersShows5CustomersInDBS

	| customerImporter inputStream |
	
	inputStream := ReadStream on: 	
		'C,Pepe,Sanchez,D,22333444', String newLineString,
		'A,San Martin,3322,Olivos,1636,BsAs' , String newLineString,
		'A,Maipu,888,Florida,1122,Buenos Aires', String newLineString,
		'C,Juan,Perez,C,23-25666777-9', String newLineString,
		'A,Alem,1122,CABA,1001,CABA'.

	customerImporter := CustomerImporter stream: inputStream session: session.
	
	self assert: 2 equals: (customerImporter numberOfCustomers).
	
	! !
!CustomerImporter methodsFor: 'accessing' stamp: 'JV 6/25/2023 23:22:14' prior: 50627785!
numberOfCustomers
	^session numberOfCustomers.! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 23:22:16'!
ERROR!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/25/2023 23:22:17'!
PASSED!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/25/2023 23:22:18'!
PASSED!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/25/2023 23:22:18'!
PASSED!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/25/2023 23:22:19'!
PASSED!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 23:22:19'!
ERROR!
!CustomerImporter methodsFor: 'initialization' stamp: 'JV 6/25/2023 23:23:12'!
importCustomers
	
	| line |
	line := inputStream nextLine.
	[ line notNil ] whileTrue: [ | newCustomer |
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer new.
			newCustomer firstName: customerData second.
			newCustomer lastName: customerData third.
			newCustomer identificationType: customerData fourth.
			newCustomer identificationNumber: customerData fifth.
			session persist: newCustomer ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := Address new.
			newCustomer addAddress: newAddress.
			newAddress streetName: addressData second.
			newAddress streetNumber: addressData third asNumber .
			newAddress town: addressData fourth.
			newAddress zipCode: addressData fifth asNumber .
			newAddress province: addressData sixth ].

		line := inputStream nextLine. ].


	inputStream close.! !
!CustomerImporter methodsFor: 'initialization' stamp: 'JV 6/25/2023 23:23:34' prior: 50627789!
initializeWithStream: anInputStream session: aSession 
	
	
	inputStream := anInputStream.
	session := aSession.
	
	self importCustomers.! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 23:23:37'!
ERROR!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/25/2023 23:23:38'!
PASSED!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/25/2023 23:23:38'!
PASSED!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/25/2023 23:23:39'!
PASSED!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/25/2023 23:23:40'!
PASSED!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 23:23:40'!
ERROR!

!classDefinition: #CustomerImporter category: 'CustomerImporter' stamp: 'JV 6/25/2023 23:25:20'!
Object subclass: #CustomerImporter
	instanceVariableNames: 'inputStream session'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CustomerImporter'!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 23:25:24'!
ERROR!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/25/2023 23:25:24'!
PASSED!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/25/2023 23:25:25'!
PASSED!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/25/2023 23:25:26'!
PASSED!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/25/2023 23:25:26'!
PASSED!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 23:25:27'!
ERROR!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 23:26:59'!
ERROR!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 23:27:05'!
ERROR!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/25/2023 23:27:05'!
PASSED!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/25/2023 23:27:06'!
PASSED!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/25/2023 23:27:07'!
PASSED!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/25/2023 23:27:07'!
PASSED!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 23:27:08'!
ERROR!

inputStream nextLine !
!CustomerImporter methodsFor: 'initialization' stamp: 'JV 6/25/2023 23:29:41' prior: 50627988!
importCustomers
	
	| line |
	line := inputStream.
	[ line notNil ] whileTrue: [ | newCustomer |
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer new.
			newCustomer firstName: customerData second.
			newCustomer lastName: customerData third.
			newCustomer identificationType: customerData fourth.
			newCustomer identificationNumber: customerData fifth.
			session persist: newCustomer ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := Address new.
			newCustomer addAddress: newAddress.
			newAddress streetName: addressData second.
			newAddress streetNumber: addressData third asNumber .
			newAddress town: addressData fourth.
			newAddress zipCode: addressData fifth asNumber .
			newAddress province: addressData sixth ].

		line := inputStream nextLine. ].


	inputStream close.! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 23:29:43'!
ERROR!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/25/2023 23:29:44'!
PASSED!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/25/2023 23:29:44'!
PASSED!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/25/2023 23:29:45'!
PASSED!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/25/2023 23:29:46'!
PASSED!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 23:29:46'!
ERROR!
!CustomerImporter methodsFor: 'initialization' stamp: 'JV 6/25/2023 23:30:16' prior: 50628107!
importCustomers
	
	| line |
	line := inputStream nextLine.
	[ line notNil ] whileTrue: [ | newCustomer |
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer new.
			newCustomer firstName: customerData second.
			newCustomer lastName: customerData third.
			newCustomer identificationType: customerData fourth.
			newCustomer identificationNumber: customerData fifth.
			session persist: newCustomer ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := Address new.
			newCustomer addAddress: newAddress.
			newAddress streetName: addressData second.
			newAddress streetNumber: addressData third asNumber .
			newAddress town: addressData fourth.
			newAddress zipCode: addressData fifth asNumber .
			newAddress province: addressData sixth ].

		line := inputStream nextLine. ].


	inputStream close.! !
!CustomerImporter methodsFor: 'initialization' stamp: 'JV 6/25/2023 23:30:38' prior: 50628162!
importCustomers
	
	| line |
	line := inputStream at: 0.
	[ line notNil ] whileTrue: [ | newCustomer |
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer new.
			newCustomer firstName: customerData second.
			newCustomer lastName: customerData third.
			newCustomer identificationType: customerData fourth.
			newCustomer identificationNumber: customerData fifth.
			session persist: newCustomer ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := Address new.
			newCustomer addAddress: newAddress.
			newAddress streetName: addressData second.
			newAddress streetNumber: addressData third asNumber .
			newAddress town: addressData fourth.
			newAddress zipCode: addressData fifth asNumber .
			newAddress province: addressData sixth ].

		line := inputStream nextLine. ].


	inputStream close.! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 23:30:41'!
ERROR!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/25/2023 23:30:41'!
PASSED!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/25/2023 23:30:42'!
PASSED!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/25/2023 23:30:43'!
PASSED!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/25/2023 23:30:44'!
PASSED!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 23:30:44'!
ERROR!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 23:32:06'!
ERROR!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/25/2023 23:32:06'!
PASSED!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/25/2023 23:32:07'!
PASSED!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/25/2023 23:32:08'!
PASSED!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/25/2023 23:32:08'!
PASSED!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 23:32:09'!
ERROR!

inputStream nextLine!

inputStream nextLine beginsWith: 'C'!

inputStream nextLine beginsWith: 'C' false !

inputStream nextLine!

'C,Juan,Perez,C,23-25666777-9' beginsWith: 'C'!

inputStream nextLine nextLine!

inputStream nextLine!
!CustomerImporter methodsFor: 'initialization' stamp: 'JV 6/25/2023 23:34:12' prior: 50628195!
importCustomers
	
	| line |
	line := inputStream copy nextLine.
	[ line notNil ] whileTrue: [ | newCustomer |
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer new.
			newCustomer firstName: customerData second.
			newCustomer lastName: customerData third.
			newCustomer identificationType: customerData fourth.
			newCustomer identificationNumber: customerData fifth.
			session persist: newCustomer ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := Address new.
			newCustomer addAddress: newAddress.
			newAddress streetName: addressData second.
			newAddress streetNumber: addressData third asNumber .
			newAddress town: addressData fourth.
			newAddress zipCode: addressData fifth asNumber .
			newAddress province: addressData sixth ].

		line := inputStream nextLine. ].


	inputStream close.! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 23:34:14'!
ERROR!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/25/2023 23:34:15'!
PASSED!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/25/2023 23:34:16'!
PASSED!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/25/2023 23:34:16'!
PASSED!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/25/2023 23:34:17'!
PASSED!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 23:34:17'!
ERROR!

inputStream nextLine!

inputStream nextLine!

inputStream nextLine!
!CustomerImporter methodsFor: 'initialization' stamp: 'JV 6/25/2023 23:39:29' prior: 50628279!
importCustomers
	
	| line |
	line := inputStream nextLine.
	[ line notNil ] whileTrue: [ | newCustomer |
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer new.
			newCustomer firstName: customerData second.
			newCustomer lastName: customerData third.
			newCustomer identificationType: customerData fourth.
			newCustomer identificationNumber: customerData fifth.
			session persist: newCustomer ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := Address new.
			newCustomer addAddress: newAddress.
			newAddress streetName: addressData second.
			newAddress streetNumber: addressData third asNumber .
			newAddress town: addressData fourth.
			newAddress zipCode: addressData fifth asNumber .
			newAddress province: addressData sixth ].

		line := inputStream nextLine. ].


	inputStream close.! !

inputStream nextLine !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 23:39:57'!
ERROR!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/25/2023 23:39:58'!
PASSED!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/25/2023 23:39:59'!
PASSED!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/25/2023 23:39:59'!
PASSED!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/25/2023 23:40:00'!
PASSED!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 23:40:00'!
ERROR!

inputStream nextLine !

inputStream nextLine !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 23:41:37' prior: 50627941!
test01Importing5CustomersShows5CustomersInDBS

	| customerImporter inputStream |
	
	inputStream :=	
		'C,Pepe,Sanchez,D,22333444', String newLineString,
		'A,San Martin,3322,Olivos,1636,BsAs' , String newLineString,
		'A,Maipu,888,Florida,1122,Buenos Aires', String newLineString,
		'C,Juan,Perez,C,23-25666777-9', String newLineString,
		'A,Alem,1122,CABA,1001,CABA'.

	customerImporter := CustomerImporter stream: inputStream session: session.
	
	self assert: 2 equals: (customerImporter numberOfCustomers).
	
	! !
!CustomerImporter methodsFor: 'initialization' stamp: 'JV 6/25/2023 23:41:54' prior: 50628021!
initializeWithStream: anInputStream session: aSession 
	
	
	inputStream := ReadStream on: anInputStream.
	session := aSession.
	
	self importCustomers.! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 23:41:56'!
ERROR!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/25/2023 23:41:56'!
PASSED!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/25/2023 23:41:57'!
PASSED!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/25/2023 23:41:58'!
PASSED!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/25/2023 23:41:59'!
PASSED!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 23:41:59'!
ERROR!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 23:43:00' prior: 50628393!
test01Importing5CustomersShows5CustomersInDBS

	| customerImporter inputStream |
	
	inputStream :=	 ReadStream on: String newLineString, 
		'C,Pepe,Sanchez,D,22333444', String newLineString,
		'A,San Martin,3322,Olivos,1636,BsAs' , String newLineString,
		'A,Maipu,888,Florida,1122,Buenos Aires', String newLineString,
		'C,Juan,Perez,C,23-25666777-9', String newLineString,
		'A,Alem,1122,CABA,1001,CABA'.

	customerImporter := CustomerImporter stream: inputStream session: session.
	
	self assert: 2 equals: (customerImporter numberOfCustomers).
	
	! !
!CustomerImporter methodsFor: 'initialization' stamp: 'JV 6/25/2023 23:43:11' prior: 50628413!
initializeWithStream: anInputStream session: aSession 
	
	
	inputStream := anInputStream.
	session := aSession.
	
	self importCustomers.! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 23:43:13'!
ERROR!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/25/2023 23:43:13'!
PASSED!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/25/2023 23:43:14'!
PASSED!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/25/2023 23:43:15'!
PASSED!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/25/2023 23:43:15'!
PASSED!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 23:43:16'!
ERROR!

inputStream !

inputStream nextLine !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/25/2023 23:43:55' prior: 50628443!
test01Importing5CustomersShows5CustomersInDBS

	| customerImporter inputStream |
	
	inputStream :=	 ReadStream on: 
		'C,Pepe,Sanchez,D,22333444', String newLineString,
		'A,San Martin,3322,Olivos,1636,BsAs' , String newLineString,
		'A,Maipu,888,Florida,1122,Buenos Aires', String newLineString,
		'C,Juan,Perez,C,23-25666777-9', String newLineString,
		'A,Alem,1122,CABA,1001,CABA'.

	customerImporter := CustomerImporter stream: inputStream session: session.
	
	self assert: 2 equals: (customerImporter numberOfCustomers).
	
	! !
!CustomerImporter methodsFor: 'initialization' stamp: 'JV 6/25/2023 23:45:05' prior: 50628336!
importCustomers
	
	| line |
	
	line := inputStream nextLine.
	
	[ line notNil ] whileTrue: [ | newCustomer |
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer new.
			newCustomer firstName: customerData second.
			newCustomer lastName: customerData third.
			newCustomer identificationType: customerData fourth.
			newCustomer identificationNumber: customerData fifth.
			session persist: newCustomer ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := Address new.
			newCustomer addAddress: newAddress.
			newAddress streetName: addressData second.
			newAddress streetNumber: addressData third asNumber .
			newAddress town: addressData fourth.
			newAddress zipCode: addressData fifth asNumber .
			newAddress province: addressData sixth ].

		line := inputStream nextLine. ].


	inputStream close.! !
!CustomerImporter methodsFor: 'initialization' stamp: 'JV 6/25/2023 23:45:16' prior: 50628515!
importCustomers
	
	| line |
	
	line := inputStream next.
	
	[ line notNil ] whileTrue: [ | newCustomer |
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer new.
			newCustomer firstName: customerData second.
			newCustomer lastName: customerData third.
			newCustomer identificationType: customerData fourth.
			newCustomer identificationNumber: customerData fifth.
			session persist: newCustomer ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := Address new.
			newCustomer addAddress: newAddress.
			newAddress streetName: addressData second.
			newAddress streetNumber: addressData third asNumber .
			newAddress town: addressData fourth.
			newAddress zipCode: addressData fifth asNumber .
			newAddress province: addressData sixth ].

		line := inputStream nextLine. ].


	inputStream close.! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 23:45:19'!
ERROR!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/25/2023 23:45:19'!
PASSED!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/25/2023 23:45:20'!
PASSED!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/25/2023 23:45:20'!
PASSED!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/25/2023 23:45:21'!
PASSED!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 23:45:21'!
ERROR!
!CustomerImporter methodsFor: 'initialization' stamp: 'JV 6/25/2023 23:45:36' prior: 50628548!
importCustomers
	
	| line |
	
	line := inputStream nextLine.
	
	[ line notNil ] whileTrue: [ | newCustomer |
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer new.
			newCustomer firstName: customerData second.
			newCustomer lastName: customerData third.
			newCustomer identificationType: customerData fourth.
			newCustomer identificationNumber: customerData fifth.
			session persist: newCustomer ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := Address new.
			newCustomer addAddress: newAddress.
			newAddress streetName: addressData second.
			newAddress streetNumber: addressData third asNumber .
			newAddress town: addressData fourth.
			newAddress zipCode: addressData fifth asNumber .
			newAddress province: addressData sixth ].

		line := inputStream nextLine. ].


	inputStream close.! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 23:45:39'!
ERROR!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/25/2023 23:45:39'!
PASSED!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/25/2023 23:45:40'!
PASSED!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/25/2023 23:45:41'!
PASSED!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/25/2023 23:45:42'!
PASSED!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/25/2023 23:45:42'!
ERROR!

----SNAPSHOT----(25 June 2023 23:46:49) CuisUniversity-5832.image priorSource: 9468485!

----QUIT----(25 June 2023 23:46:53) CuisUniversity-5832.image priorSource: 9504210!

----STARTUP---- (26 June 2023 15:49:17) as /home/julia/Documents/Inge/Smalltalk/CustomerImporter/linux64/CuisUniversity-5832.image!


!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/26/2023 15:49:58'!
ERROR!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/26/2023 15:49:58'!
PASSED!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/26/2023 15:49:59'!
PASSED!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/26/2023 15:50:00'!
PASSED!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/26/2023 15:50:00'!
PASSED!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/26/2023 15:50:01'!
ERROR!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/26/2023 15:55:13' prior: 50628495!
test01Importing5CustomersShows5CustomersInDBS

	| customerImporter inputStream |
	
	inputStream :=	 ReadStream on: 
		'C,Pepe,Sanchez,D,22333444', String newLineString,
		'A,San Martin,3322,Olivos,1636,BsAs' , String newLineString,
		'A,Maipu,888,Florida,1122,Buenos Aires', String newLineString,
		'C,Juan,Perez,C,23-25666777-9', String newLineString,
		'A,Alem,1122,CABA,1001,CABA'.

	"customerImporter := CustomerImporter stream: inputStream session: session."
	
	self importCustomers.
	
	self assert: 2 equals: (session numberOfCustomers).
	
	! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/26/2023 15:55:20'!
PASSED!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/26/2023 15:55:21'!
PASSED!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/26/2023 15:55:22'!
PASSED!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/26/2023 15:55:23'!
PASSED!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/26/2023 15:55:23'!
PASSED!
!Address class methodsFor: 'no messages' stamp: 'JV 6/26/2023 15:58:23'!
streetName: aStreetName streetNumber: aStreetNumber town: aTown province: aProvince zipCode: aZipCode 
	^self initializeStreetName: aStreetName streetNumber: aStreetNumber town: aTown province: aProvince zipCode: aZipCode! !
!Address methodsFor: 'zip code' stamp: 'JV 6/26/2023 15:59:36'!
initializeStreetName: aStreetName streetNumber: aStreetNumber town: aTown province: aProvince zipCode: aZipCode
	streetName := aStreetName.
	streetNumber := aStreetNumber.
	town := aTown.
	province := aProvince.
	zipCode := aZipCode.! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/26/2023 16:01:19' prior: 50626045!
pepeAddress1

	^ Address streetName: 'San Martin' streetNumber: 3322 town: 'Olivos' province: 'BsAs' zipCode: 1636! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/26/2023 16:01:41' prior: 50626079!
pepeAddress2

	^ Address streetName: 'Maipu' streetNumber: 888 town: 'Florida' province: 'Buenos Aires' zipCode: 1122! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/26/2023 16:01:43'!
PASSED!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/26/2023 16:01:44'!
PASSED!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/26/2023 16:01:44'!
PASSED!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/26/2023 16:01:45'!
PASSED!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/26/2023 16:01:46'!
ERROR!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/26/2023 16:01:46'!
ERROR!
!Address class methodsFor: 'as yet unclassified' stamp: 'JV 6/26/2023 16:02:12' prior: 50628729!
streetName: aStreetName streetNumber: aStreetNumber town: aTown province: aProvince zipCode: aZipCode 
	^self new initializeStreetName: aStreetName streetNumber: aStreetNumber town: aTown province: aProvince zipCode: aZipCode! !

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/26/2023 16:02:14'!
PASSED!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/26/2023 16:02:16'!
PASSED!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/26/2023 16:02:17'!
PASSED!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/26/2023 16:02:18'!
PASSED!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/26/2023 16:02:18'!
PASSED!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/26/2023 16:02:19'!
PASSED!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/26/2023 16:05:42' prior: 50627672!
importCustomers

	| inputStream  newCustomer line |
	
	inputStream := ReadStream on: 	
		'C,Pepe,Sanchez,D,22333444', String newLineString,
		'A,San Martin,3322,Olivos,1636,BsAs' , String newLineString,
		'A,Maipu,888,Florida,1122,Buenos Aires', String newLineString,
		'C,Juan,Perez,C,23-25666777-9', String newLineString,
		'A,Alem,1122,CABA,1001,CABA'.

	"inputStream := UniFileStream new open: 'input.txt' forWrite: false."

	line := inputStream nextLine.
	[ line notNil ] whileTrue: [
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer new.
			newCustomer firstName: customerData second.
			newCustomer lastName: customerData third.
			newCustomer identificationType: customerData fourth.
			newCustomer identificationNumber: customerData fifth.
			session persist: newCustomer ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := 
				Address 
					streetName: addressData second 
					streetNumber: addressData third asNumber
					town: addressData fourth
					province: addressData sixth
					zipCode: addressData fifth asNumber.
			newCustomer addAddress: newAddress].

		line := inputStream nextLine. ].


	inputStream close.
	! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/26/2023 16:06:10' prior: 50626110!
juanAddress

	^ Address new streetName: 'Alem' streetNumber: 1122 town: 'CABA' province: 'CABA' zipCode: 1001! !
!CustomerImporter methodsFor: 'initialization' stamp: 'JV 6/26/2023 16:07:28' prior: 50628603!
importCustomers
	
	| line |
	
	line := inputStream nextLine.
	
	[ line notNil ] whileTrue: [ | newCustomer |
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer new.
			newCustomer firstName: customerData second.
			newCustomer lastName: customerData third.
			newCustomer identificationType: customerData fourth.
			newCustomer identificationNumber: customerData fifth.
			session persist: newCustomer ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := 
				Address 
					streetName: addressData second 
					streetNumber: addressData third asNumber
					town: addressData fourth
					province: addressData sixth
					zipCode: addressData fifth asNumber.
			newCustomer addAddress: newAddress ].

		line := inputStream nextLine. ].


	inputStream close.! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/26/2023 16:07:33'!
PASSED!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/26/2023 16:07:34'!
PASSED!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/26/2023 16:07:34'!
PASSED!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/26/2023 16:07:35'!
PASSED!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/26/2023 16:07:36'!
ERROR!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/26/2023 16:07:36'!
ERROR!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/26/2023 16:07:58' prior: 50628863!
juanAddress

	^ Address streetName: 'Alem' streetNumber: 1122 town: 'CABA' province: 'CABA' zipCode: 1001! !

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/26/2023 16:07:59'!
PASSED!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/26/2023 16:08:01'!
PASSED!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/26/2023 16:08:02'!
PASSED!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/26/2023 16:08:02'!
PASSED!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/26/2023 16:08:03'!
PASSED!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/26/2023 16:08:04'!
PASSED!

----SNAPSHOT----(26 June 2023 16:08:13) CuisUniversity-5832.image priorSource: 9504299!
!Customer methodsFor: 'initialization' stamp: 'JV 6/26/2023 16:11:12'!
initializeFirstName: aFirstName lastName: aLastName identificationType: anIdentificationType identificationNumber: anIdentificationNumber

	super initialize.
	addresses := OrderedCollection new.
	firstName := aFirstName.
	lastName := aLastName.
	identificationType := anIdentificationType.
	identificationNumber := anIdentificationNumber.! !

!methodRemoval: Customer #initialize stamp: 'JV 6/26/2023 16:11:30'!
initialize

	super initialize.
	addresses := OrderedCollection new.!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/26/2023 16:11:33'!
ERROR!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/26/2023 16:11:33'!
ERROR!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/26/2023 16:11:33'!
ERROR!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/26/2023 16:11:33'!
ERROR!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/26/2023 16:11:33'!
ERROR!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/26/2023 16:11:35'!
ERROR!
!Customer class methodsFor: 'importing' stamp: 'JV 6/26/2023 16:13:00'!
firstName: aFirstName lastName: aLastName identificationType: anIdentificationType identificationNumber: anIdentificationNumber
	^self new initializeFirstName: aFirstName lastName: aLastName identificationType: anIdentificationType identificationNumber: anIdentificationNumber.! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/26/2023 16:13:08'!
ERROR!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/26/2023 16:13:08'!
ERROR!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/26/2023 16:13:09'!
ERROR!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/26/2023 16:13:09'!
ERROR!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/26/2023 16:13:09'!
ERROR!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/26/2023 16:13:12'!
ERROR!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/26/2023 16:14:25' prior: 50628820!
importCustomers

	| inputStream  newCustomer line |
	
	inputStream := ReadStream on: 	
		'C,Pepe,Sanchez,D,22333444', String newLineString,
		'A,San Martin,3322,Olivos,1636,BsAs' , String newLineString,
		'A,Maipu,888,Florida,1122,Buenos Aires', String newLineString,
		'C,Juan,Perez,C,23-25666777-9', String newLineString,
		'A,Alem,1122,CABA,1001,CABA'.

	"inputStream := UniFileStream new open: 'input.txt' forWrite: false."

	line := inputStream nextLine.
	[ line notNil ] whileTrue: [
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer 
				firstName: customerData second 
				lastName: customerData third 
				identificationType: customerData fourth 
				identificationNumber: customerData fifth.
			session persist: newCustomer ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := 
				Address 
					streetName: addressData second 
					streetNumber: addressData third asNumber
					town: addressData fourth
					province: addressData sixth
					zipCode: addressData fifth asNumber.
			newCustomer addAddress: newAddress].

		line := inputStream nextLine. ].


	inputStream close.
	! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/26/2023 16:14:27'!
PASSED!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/26/2023 16:14:28'!
PASSED!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/26/2023 16:14:28'!
PASSED!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/26/2023 16:14:29'!
PASSED!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/26/2023 16:14:30'!
PASSED!

!methodRemoval: Address #province: stamp: 'JV 6/26/2023 16:15:22'!
province: aProvince

	province := aProvince
	!

!methodRemoval: Address #streetName: stamp: 'JV 6/26/2023 16:15:26'!
streetName: aStreetName

	streetName := aStreetName !

!methodRemoval: Address #streetNumber: stamp: 'JV 6/26/2023 16:15:29'!
streetNumber: aStreetNumber

	streetNumber := aStreetNumber !

!methodRemoval: Address #town: stamp: 'JV 6/26/2023 16:15:32'!
town: aTown

	town := aTown!

!methodRemoval: Address #zipCode: stamp: 'JV 6/26/2023 16:15:34'!
zipCode: aZipCode

	zipCode := aZipCode!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/26/2023 16:15:39'!
PASSED!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/26/2023 16:15:39'!
PASSED!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/26/2023 16:15:40'!
PASSED!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/26/2023 16:15:41'!
PASSED!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/26/2023 16:15:41'!
PASSED!

----SNAPSHOT----(26 June 2023 16:15:50) CuisUniversity-5832.image priorSource: 9513656!
!CustomerImporter methodsFor: 'initialization' stamp: 'JV 6/26/2023 16:16:30' prior: 50628870!
importCustomers
	
	| line |
	
	line := inputStream nextLine.
	
	[ line notNil ] whileTrue: [ | newCustomer |
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer 
				firstName: customerData second 
				lastName: customerData third 
				identificationType: customerData fourth 
				identificationNumber: customerData fifth. ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := 
				Address 
					streetName: addressData second 
					streetNumber: addressData third asNumber
					town: addressData fourth
					province: addressData sixth
					zipCode: addressData fifth asNumber.
			newCustomer addAddress: newAddress ].

		line := inputStream nextLine. ].


	inputStream close.! !

!methodRemoval: Customer #firstName: stamp: 'JV 6/26/2023 16:16:37'!
firstName: aName

	firstName := aName!

!methodRemoval: Customer #identificationNumber: stamp: 'JV 6/26/2023 16:16:40'!
identificationNumber: anIdentificationNumber

	identificationNumber := anIdentificationNumber!

!methodRemoval: Customer #identificationType: stamp: 'JV 6/26/2023 16:16:43'!
identificationType: anIdentificationType

	identificationType := anIdentificationType!

!methodRemoval: Customer #lastName: stamp: 'JV 6/26/2023 16:16:46'!
lastName: aLastName

	lastName := aLastName
!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/26/2023 16:17:34'!
PASSED!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/26/2023 16:17:35'!
PASSED!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/26/2023 16:17:35'!
PASSED!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/26/2023 16:17:36'!
PASSED!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/26/2023 16:17:37'!
PASSED!

----SNAPSHOT----(26 June 2023 16:17:45) CuisUniversity-5832.image priorSource: 9519191!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/26/2023 16:18:15'!
addressJuan

	^ Address streetName: 'Alem' streetNumber: 1122 town: 'CABA' province: 'CABA' zipCode: 1001! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/26/2023 16:18:15' prior: 50626683!
test05ImportingCustomersShowsCorrectCustomerAddresses

	| juan pepe |
	self importCustomers.
	
	pepe := self getPepeFromSession anyOne.	
	juan := self getJuanFromSession anyOne.
	
	self assert: (OrderedCollection with: self pepeAddress1 with: self pepeAddress2) equals: pepe addresses.
	self assert: (OrderedCollection with: self addressJuan) equals: juan addresses.
	
	! !

!methodRemoval: ImportTest #juanAddress stamp: 'JV 6/26/2023 16:18:15'!
juanAddress

	^ Address streetName: 'Alem' streetNumber: 1122 town: 'CABA' province: 'CABA' zipCode: 1001!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/26/2023 16:18:32'!
address1Pepe

	^ Address streetName: 'San Martin' streetNumber: 3322 town: 'Olivos' province: 'BsAs' zipCode: 1636! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/26/2023 16:18:32' prior: 50629204!
test05ImportingCustomersShowsCorrectCustomerAddresses

	| juan pepe |
	self importCustomers.
	
	pepe := self getPepeFromSession anyOne.	
	juan := self getJuanFromSession anyOne.
	
	self assert: (OrderedCollection with: self address1Pepe with: self pepeAddress2) equals: pepe addresses.
	self assert: (OrderedCollection with: self addressJuan) equals: juan addresses.
	
	! !

!methodRemoval: ImportTest #pepeAddress1 stamp: 'JV 6/26/2023 16:18:32'!
pepeAddress1

	^ Address streetName: 'San Martin' streetNumber: 3322 town: 'Olivos' province: 'BsAs' zipCode: 1636!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/26/2023 16:18:45'!
address2Pepe

	^ Address streetName: 'Maipu' streetNumber: 888 town: 'Florida' province: 'Buenos Aires' zipCode: 1122! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/26/2023 16:18:46' prior: 50629231!
test05ImportingCustomersShowsCorrectCustomerAddresses

	| juan pepe |
	self importCustomers.
	
	pepe := self getPepeFromSession anyOne.	
	juan := self getJuanFromSession anyOne.
	
	self assert: (OrderedCollection with: self address1Pepe with: self address2Pepe) equals: pepe addresses.
	self assert: (OrderedCollection with: self addressJuan) equals: juan addresses.
	
	! !

!methodRemoval: ImportTest #pepeAddress2 stamp: 'JV 6/26/2023 16:18:46'!
pepeAddress2

	^ Address streetName: 'Maipu' streetNumber: 888 town: 'Florida' province: 'Buenos Aires' zipCode: 1122!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/26/2023 16:18:50'!
PASSED!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/26/2023 16:18:51'!
PASSED!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/26/2023 16:18:52'!
PASSED!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/26/2023 16:18:52'!
PASSED!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/26/2023 16:18:53'!
PASSED!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/26/2023 16:19:15'!
inputStream

	^ ReadStream on: 
		'C,Pepe,Sanchez,D,22333444', String newLineString,
		'A,San Martin,3322,Olivos,1636,BsAs' , String newLineString,
		'A,Maipu,888,Florida,1122,Buenos Aires', String newLineString,
		'C,Juan,Perez,C,23-25666777-9', String newLineString,
		'A,Alem,1122,CABA,1001,CABA'! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/26/2023 16:19:15' prior: 50628690!
test01Importing5CustomersShows5CustomersInDBS

	| customerImporter inputStream |
	
	inputStream :=	 self inputStream.

	"customerImporter := CustomerImporter stream: inputStream session: session."
	
	self importCustomers.
	
	self assert: 2 equals: (session numberOfCustomers).
	
	! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/26/2023 16:19:36'!
defaultInputStream

	^ ReadStream on: 
		'C,Pepe,Sanchez,D,22333444', String newLineString,
		'A,San Martin,3322,Olivos,1636,BsAs' , String newLineString,
		'A,Maipu,888,Florida,1122,Buenos Aires', String newLineString,
		'C,Juan,Perez,C,23-25666777-9', String newLineString,
		'A,Alem,1122,CABA,1001,CABA'! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/26/2023 16:19:36' prior: 50629311!
test01Importing5CustomersShows5CustomersInDBS

	| customerImporter inputStream |
	
	inputStream :=	 self defaultInputStream.

	"customerImporter := CustomerImporter stream: inputStream session: session."
	
	self importCustomers.
	
	self assert: 2 equals: (session numberOfCustomers).
	
	! !

!methodRemoval: ImportTest #inputStream stamp: 'JV 6/26/2023 16:19:36'!
inputStream

	^ ReadStream on: 
		'C,Pepe,Sanchez,D,22333444', String newLineString,
		'A,San Martin,3322,Olivos,1636,BsAs' , String newLineString,
		'A,Maipu,888,Florida,1122,Buenos Aires', String newLineString,
		'C,Juan,Perez,C,23-25666777-9', String newLineString,
		'A,Alem,1122,CABA,1001,CABA'!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/26/2023 16:20:08' prior: 50629029!
importCustomers

	| inputStream  newCustomer line |
	
	inputStream := self defaultInputStream.

	"inputStream := UniFileStream new open: 'input.txt' forWrite: false."

	line := inputStream nextLine.
	[ line notNil ] whileTrue: [
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer 
				firstName: customerData second 
				lastName: customerData third 
				identificationType: customerData fourth 
				identificationNumber: customerData fifth.
			session persist: newCustomer ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := 
				Address 
					streetName: addressData second 
					streetNumber: addressData third asNumber
					town: addressData fourth
					province: addressData sixth
					zipCode: addressData fifth asNumber.
			newCustomer addAddress: newAddress].

		line := inputStream nextLine. ].


	inputStream close.
	! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/26/2023 16:20:10'!
PASSED!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/26/2023 16:20:11'!
PASSED!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/26/2023 16:20:12'!
PASSED!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/26/2023 16:20:12'!
PASSED!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/26/2023 16:20:13'!
PASSED!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/26/2023 16:21:39' prior: 50629360!
importCustomers

	| inputStream  newCustomer line |

	"inputStream := UniFileStream new open: 'input.txt' forWrite: false."

	line := inputStream nextLine.
	[ line notNil ] whileTrue: [
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer 
				firstName: customerData second 
				lastName: customerData third 
				identificationType: customerData fourth 
				identificationNumber: customerData fifth.
			session persist: newCustomer ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := 
				Address 
					streetName: addressData second 
					streetNumber: addressData third asNumber
					town: addressData fourth
					province: addressData sixth
					zipCode: addressData fifth asNumber.
			newCustomer addAddress: newAddress].

		line := inputStream nextLine. ].


	inputStream close.
	! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/26/2023 16:22:53'!
importCustomers: anInputStream

	| inputStream  newCustomer line |

	"inputStream := UniFileStream new open: 'input.txt' forWrite: false."

	line := inputStream nextLine.
	[ line notNil ] whileTrue: [
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer 
				firstName: customerData second 
				lastName: customerData third 
				identificationType: customerData fourth 
				identificationNumber: customerData fifth.
			session persist: newCustomer ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := 
				Address 
					streetName: addressData second 
					streetNumber: addressData third asNumber
					town: addressData fourth
					province: addressData sixth
					zipCode: addressData fifth asNumber.
			newCustomer addAddress: newAddress].

		line := inputStream nextLine. ].


	inputStream close.
	! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/26/2023 16:22:53' prior: 50626566!
test02ImportingCustomersShowsCorrectCustomerNames

	| juan pepe |
	self importCustomers: defaultInputStream.
	
	pepe := self getPepeFromSession anyOne.
	juan := self getJuanFromSession anyOne.
	
	self assert: (pepe lastName = 'Sanchez') & (juan lastName = 'Perez').
	
	! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/26/2023 16:22:53' prior: 50626589!
test04ImportingCustomersShowsCorrectCustomerIdentificationNumber

	| juan pepe |
	self importCustomers: defaultInputStream.
	
	pepe := self getPepeFromSession anyOne.
	juan := self getJuanFromSession anyOne.
	
	self assert: (pepe identificationNumber = '22333444') & (juan identificationNumber = '23-25666777-9').
	
	! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/26/2023 16:22:53' prior: 50629259!
test05ImportingCustomersShowsCorrectCustomerAddresses

	| juan pepe |
	self importCustomers: defaultInputStream.
	
	pepe := self getPepeFromSession anyOne.	
	juan := self getJuanFromSession anyOne.
	
	self assert: (OrderedCollection with: self address1Pepe with: self address2Pepe) equals: pepe addresses.
	self assert: (OrderedCollection with: self addressJuan) equals: juan addresses.
	
	! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/26/2023 16:22:53' prior: 50626577!
test03ImportingCustomersShowsCorrectCustomerIdentificationType

	| juan pepe |
	self importCustomers: defaultInputStream.
	
	pepe := self getPepeFromSession anyOne.
	juan := self getJuanFromSession anyOne.
	
	self assert: (pepe identificationType = 'D') & (juan identificationType = 'C').
	
	! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/26/2023 16:22:53' prior: 50629336!
test01Importing5CustomersShows5CustomersInDBS

	| customerImporter inputStream |
	
	inputStream :=	 self defaultInputStream.

	"customerImporter := CustomerImporter stream: inputStream session: session."
	
	self importCustomers: defaultInputStream.
	
	self assert: 2 equals: (session numberOfCustomers).
	
	! !

!methodRemoval: ImportTest #importCustomers stamp: 'JV 6/26/2023 16:22:53'!
importCustomers

	| inputStream  newCustomer line |

	"inputStream := UniFileStream new open: 'input.txt' forWrite: false."

	line := inputStream nextLine.
	[ line notNil ] whileTrue: [
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer 
				firstName: customerData second 
				lastName: customerData third 
				identificationType: customerData fourth 
				identificationNumber: customerData fifth.
			session persist: newCustomer ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := 
				Address 
					streetName: addressData second 
					streetNumber: addressData third asNumber
					town: addressData fourth
					province: addressData sixth
					zipCode: addressData fifth asNumber.
			newCustomer addAddress: newAddress].

		line := inputStream nextLine. ].


	inputStream close.
	!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/26/2023 16:23:15'!
importCustomersFrom: anInputStream

	| inputStream  newCustomer line |

	"inputStream := UniFileStream new open: 'input.txt' forWrite: false."

	line := inputStream nextLine.
	[ line notNil ] whileTrue: [
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer 
				firstName: customerData second 
				lastName: customerData third 
				identificationType: customerData fourth 
				identificationNumber: customerData fifth.
			session persist: newCustomer ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := 
				Address 
					streetName: addressData second 
					streetNumber: addressData third asNumber
					town: addressData fourth
					province: addressData sixth
					zipCode: addressData fifth asNumber.
			newCustomer addAddress: newAddress].

		line := inputStream nextLine. ].


	inputStream close.
	! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/26/2023 16:23:15' prior: 50629531!
test01Importing5CustomersShows5CustomersInDBS

	| customerImporter inputStream |
	
	inputStream :=	 self defaultInputStream.

	"customerImporter := CustomerImporter stream: inputStream session: session."
	
	self importCustomersFrom: defaultInputStream.
	
	self assert: 2 equals: (session numberOfCustomers).
	
	! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/26/2023 16:23:15' prior: 50629489!
test04ImportingCustomersShowsCorrectCustomerIdentificationNumber

	| juan pepe |
	self importCustomersFrom: defaultInputStream.
	
	pepe := self getPepeFromSession anyOne.
	juan := self getJuanFromSession anyOne.
	
	self assert: (pepe identificationNumber = '22333444') & (juan identificationNumber = '23-25666777-9').
	
	! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/26/2023 16:23:15' prior: 50629477!
test02ImportingCustomersShowsCorrectCustomerNames

	| juan pepe |
	self importCustomersFrom: defaultInputStream.
	
	pepe := self getPepeFromSession anyOne.
	juan := self getJuanFromSession anyOne.
	
	self assert: (pepe lastName = 'Sanchez') & (juan lastName = 'Perez').
	
	! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/26/2023 16:23:15' prior: 50629502!
test05ImportingCustomersShowsCorrectCustomerAddresses

	| juan pepe |
	self importCustomersFrom: defaultInputStream.
	
	pepe := self getPepeFromSession anyOne.	
	juan := self getJuanFromSession anyOne.
	
	self assert: (OrderedCollection with: self address1Pepe with: self address2Pepe) equals: pepe addresses.
	self assert: (OrderedCollection with: self addressJuan) equals: juan addresses.
	
	! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/26/2023 16:23:15' prior: 50629518!
test03ImportingCustomersShowsCorrectCustomerIdentificationType

	| juan pepe |
	self importCustomersFrom: defaultInputStream.
	
	pepe := self getPepeFromSession anyOne.
	juan := self getJuanFromSession anyOne.
	
	self assert: (pepe identificationType = 'D') & (juan identificationType = 'C').
	
	! !

!methodRemoval: ImportTest #importCustomers: stamp: 'JV 6/26/2023 16:23:15'!
importCustomers: anInputStream

	| inputStream  newCustomer line |

	"inputStream := UniFileStream new open: 'input.txt' forWrite: false."

	line := inputStream nextLine.
	[ line notNil ] whileTrue: [
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer 
				firstName: customerData second 
				lastName: customerData third 
				identificationType: customerData fourth 
				identificationNumber: customerData fifth.
			session persist: newCustomer ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := 
				Address 
					streetName: addressData second 
					streetNumber: addressData third asNumber
					town: addressData fourth
					province: addressData sixth
					zipCode: addressData fifth asNumber.
			newCustomer addAddress: newAddress].

		line := inputStream nextLine. ].


	inputStream close.
	!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/26/2023 16:23:18'!
ERROR!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/26/2023 16:23:18'!
ERROR!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/26/2023 16:23:18'!
ERROR!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/26/2023 16:23:18'!
ERROR!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/26/2023 16:23:18'!
ERROR!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/26/2023 16:23:27' prior: 50629608!
test01Importing5CustomersShows5CustomersInDBS

	| inputStream |
	
	inputStream :=	 self defaultInputStream.

	"customerImporter := CustomerImporter stream: inputStream session: session."
	
	self importCustomersFrom: self defaultInputStream.
	
	self assert: 2 equals: (session numberOfCustomers).
	
	! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/26/2023 16:23:44' prior: 50629726!
test01Importing5CustomersShows5CustomersInDBS

	

	"customerImporter := CustomerImporter stream: inputStream session: session."
	
	self importCustomersFrom: self defaultInputStream.
	
	self assert: 2 equals: (session numberOfCustomers).
	
	! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/26/2023 16:23:50'!
ERROR!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/26/2023 16:23:50'!
ERROR!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/26/2023 16:23:50'!
ERROR!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/26/2023 16:23:50'!
ERROR!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/26/2023 16:23:50'!
ERROR!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/26/2023 16:23:53'!
ERROR!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/26/2023 16:24:39' prior: 50629575!
importCustomersFrom: anInputStream

	| newCustomer line |

	"inputStream := UniFileStream new open: 'input.txt' forWrite: false."

	line := anInputStream nextLine.
	[ line notNil ] whileTrue: [
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer 
				firstName: customerData second 
				lastName: customerData third 
				identificationType: customerData fourth 
				identificationNumber: customerData fifth.
			session persist: newCustomer ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := 
				Address 
					streetName: addressData second 
					streetNumber: addressData third asNumber
					town: addressData fourth
					province: addressData sixth
					zipCode: addressData fifth asNumber.
			newCustomer addAddress: newAddress].

		line := anInputStream nextLine. ].


	anInputStream close.
	! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/26/2023 16:24:43'!
PASSED!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/26/2023 16:24:45'!
PASSED!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/26/2023 16:24:45'!
ERROR!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/26/2023 16:24:45'!
ERROR!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/26/2023 16:24:45'!
ERROR!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/26/2023 16:24:45'!
ERROR!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/26/2023 16:24:53' prior: 50629635!
test02ImportingCustomersShowsCorrectCustomerNames

	| juan pepe |
	self importCustomersFrom: self defaultInputStream.
	
	pepe := self getPepeFromSession anyOne.
	juan := self getJuanFromSession anyOne.
	
	self assert: (pepe lastName = 'Sanchez') & (juan lastName = 'Perez').
	
	! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/26/2023 16:24:54'!
PASSED!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/26/2023 16:24:55'!
PASSED!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/26/2023 16:24:56'!
ERROR!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/26/2023 16:24:56'!
ERROR!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/26/2023 16:24:56'!
ERROR!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/26/2023 16:25:01' prior: 50629663!
test03ImportingCustomersShowsCorrectCustomerIdentificationType

	| juan pepe |
	self importCustomersFrom: self defaultInputStream.
	
	pepe := self getPepeFromSession anyOne.
	juan := self getJuanFromSession anyOne.
	
	self assert: (pepe identificationType = 'D') & (juan identificationType = 'C').
	
	! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/26/2023 16:25:02'!
PASSED!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/26/2023 16:25:03'!
PASSED!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/26/2023 16:25:04'!
PASSED!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/26/2023 16:25:04'!
ERROR!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/26/2023 16:25:04'!
ERROR!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/26/2023 16:25:09' prior: 50629621!
test04ImportingCustomersShowsCorrectCustomerIdentificationNumber

	| juan pepe |
	self importCustomersFrom: self defaultInputStream.
	
	pepe := self getPepeFromSession anyOne.
	juan := self getJuanFromSession anyOne.
	
	self assert: (pepe identificationNumber = '22333444') & (juan identificationNumber = '23-25666777-9').
	
	! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/26/2023 16:25:11'!
PASSED!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/26/2023 16:25:11'!
PASSED!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/26/2023 16:25:12'!
PASSED!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/26/2023 16:25:13'!
PASSED!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/26/2023 16:25:13'!
ERROR!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/26/2023 16:25:13'!
ERROR!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/26/2023 16:25:24' prior: 50629647!
test05ImportingCustomersShowsCorrectCustomerAddresses

	| juan pepe |
	self importCustomersFrom: self defaultInputStream.
	
	pepe := self getPepeFromSession anyOne.	
	juan := self getJuanFromSession anyOne.
	
	self assert: (OrderedCollection with: self address1Pepe with: self address2Pepe) equals: pepe addresses.
	self assert: (OrderedCollection with: self addressJuan) equals: juan addresses.
	
	! !

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/26/2023 16:25:25'!
PASSED!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/26/2023 16:25:27'!
PASSED!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/26/2023 16:25:28'!
PASSED!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/26/2023 16:25:29'!
PASSED!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/26/2023 16:25:30'!
PASSED!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/26/2023 16:25:30'!
PASSED!

!methodRemoval: ImportTest #numberOfCustomers stamp: 'JV 6/26/2023 16:26:28'!
numberOfCustomers
	^5.
	
	!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'JV 6/26/2023 16:27:26'!
PASSED!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'JV 6/26/2023 16:27:27'!
PASSED!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'JV 6/26/2023 16:27:27'!
PASSED!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'JV 6/26/2023 16:27:28'!
PASSED!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'JV 6/26/2023 16:27:29'!
PASSED!

----SNAPSHOT----(26 June 2023 16:27:38) CuisUniversity-5832.image priorSource: 9521371!

----STARTUP---- (26 June 2023 16:32:19) as /home/fd/mat/ing1/cuis/5832/linux64/CuisUniversity-5832.image!


!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'fd 6/26/2023 16:32:31'!
PASSED!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'fd 6/26/2023 16:32:32'!
PASSED!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'fd 6/26/2023 16:32:33'!
PASSED!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'fd 6/26/2023 16:32:33'!
PASSED!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'fd 6/26/2023 16:32:34'!
PASSED!
!CustomerImporter methodsFor: 'initialization' stamp: 'fd 6/26/2023 16:35:00' prior: 50629129!
importCustomers
	
	| line newCustomer |
	
	line := inputStream nextLine.
	
	
	line := inputStream nextLine.
	[ line notNil ] whileTrue: [
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer 
				firstName: customerData second 
				lastName: customerData third 
				identificationType: customerData fourth 
				identificationNumber: customerData fifth.
			session persist: newCustomer ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := 
				Address 
					streetName: addressData second 
					streetNumber: addressData third asNumber
					town: addressData fourth
					province: addressData sixth
					zipCode: addressData fifth asNumber.
			newCustomer addAddress: newAddress].

		line := inputStream nextLine. ].

	"inputStream close."! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'fd 6/26/2023 16:35:38' prior: 50629772!
importCustomersFrom: anInputStream
	|importer| 
	importer := CustomerImporter stream: anInputStream session: session.! !
!ImportTest methodsFor: 'as yet unclassified' stamp: 'fd 6/26/2023 16:35:44' prior: 50630042!
importCustomersFrom: anInputStream
	^CustomerImporter stream: anInputStream session: session.! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'fd 6/26/2023 16:36:05'!
ERROR!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'fd 6/26/2023 16:36:05'!
ERROR!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'fd 6/26/2023 16:36:05'!
ERROR!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'fd 6/26/2023 16:36:05'!
ERROR!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'fd 6/26/2023 16:36:05'!
ERROR!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'fd 6/26/2023 16:36:13'!
ERROR!
!CustomerImporter methodsFor: 'initialization' stamp: 'fd 6/26/2023 16:36:32' prior: 50630011!
importCustomers
	
	| line newCustomer |

	
	line := inputStream nextLine.
	[ line notNil ] whileTrue: [
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer 
				firstName: customerData second 
				lastName: customerData third 
				identificationType: customerData fourth 
				identificationNumber: customerData fifth.
			session persist: newCustomer ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := 
				Address 
					streetName: addressData second 
					streetNumber: addressData third asNumber
					town: addressData fourth
					province: addressData sixth
					zipCode: addressData fifth asNumber.
			newCustomer addAddress: newAddress].

		line := inputStream nextLine. ].

	"inputStream close."! !
!CustomerImporter methodsFor: 'initialization' stamp: 'fd 6/26/2023 16:36:32' prior: 50630077!
importCustomers
	
	| line newCustomer |
	
	line := inputStream nextLine.
	[ line notNil ] whileTrue: [
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer 
				firstName: customerData second 
				lastName: customerData third 
				identificationType: customerData fourth 
				identificationNumber: customerData fifth.
			session persist: newCustomer ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := 
				Address 
					streetName: addressData second 
					streetNumber: addressData third asNumber
					town: addressData fourth
					province: addressData sixth
					zipCode: addressData fifth asNumber.
			newCustomer addAddress: newAddress].

		line := inputStream nextLine. ].

	"inputStream close."! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'fd 6/26/2023 16:36:35'!
ERROR!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'fd 6/26/2023 16:36:40'!
PASSED!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'fd 6/26/2023 16:36:41'!
PASSED!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'fd 6/26/2023 16:36:41'!
PASSED!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'fd 6/26/2023 16:36:42'!
PASSED!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'fd 6/26/2023 16:36:43'!
PASSED!
!ImportTest methodsFor: 'testing' stamp: 'fd 6/26/2023 16:37:53' prior: 50626525!
namesAreCorrect
	^(session selectAllOfType: Customer) inject: true into: [ :namesAreCorrect :customer | 
		namesAreCorrect and self halt] ! !

!methodRemoval: ImportTest #namesAreCorrect stamp: 'fd 6/26/2023 16:38:12'!
namesAreCorrect
	^(session selectAllOfType: Customer) inject: true into: [ :namesAreCorrect :customer | 
		namesAreCorrect and self halt] !

!methodRemoval: Customer #addresses stamp: 'fd 6/26/2023 16:39:45'!
addresses

	^ addresses!
!CustomerImporter methodsFor: 'initialization' stamp: 'fd 6/26/2023 16:41:41' prior: 50630107!
importCustomers
	
	| line newCustomer |
	
	line := inputStream nextLine.
	"TODO: en la primera linea nil (vacia?) deja de importar, esto esta bien? armar un test?"
	
	[ line notNil ] whileTrue: [
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer 
				firstName: customerData second 
				lastName: customerData third 
				identificationType: customerData fourth 
				identificationNumber: customerData fifth.
			session persist: newCustomer ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := 
				Address 
					streetName: addressData second 
					streetNumber: addressData third asNumber
					town: addressData fourth
					province: addressData sixth
					zipCode: addressData fifth asNumber.
			newCustomer addAddress: newAddress].

		line := inputStream nextLine. ].

	"inputStream close."! !
!CustomerImporter methodsFor: 'initialization' stamp: 'fd 6/26/2023 16:41:57' prior: 50630176!
importCustomers
	
	| line newCustomer |
	
	line := inputStream nextLine.
	"TODO: en la primera linea nil (vacia?) deja de importar, esto esta bien? armar un test?"
	
	[ line notNil ] whileTrue: [
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer 
				firstName: customerData second 
				lastName: customerData third 
				identificationType: customerData fourth 
				identificationNumber: customerData fifth.
			session persist: newCustomer ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := 
				Address 
					streetName: addressData second 
					streetNumber: addressData third asNumber
					town: addressData fourth
					province: addressData sixth
					zipCode: addressData fifth asNumber.
			newCustomer addAddress: newAddress].

		line := inputStream nextLine. ].! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'fd 6/26/2023 16:42:24'!
ERROR!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'fd 6/26/2023 16:42:24'!
ERROR!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'fd 6/26/2023 16:42:24'!
ERROR!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'fd 6/26/2023 16:42:24'!
ERROR!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'fd 6/26/2023 16:42:24'!
ERROR!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'fd 6/26/2023 16:42:29'!
ERROR!
!Customer methodsFor: 'name' stamp: 'fd 6/26/2023 16:44:02'!
addresses

	^ addresses! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'fd 6/26/2023 16:44:11'!
PASSED!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'fd 6/26/2023 16:44:12'!
PASSED!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'fd 6/26/2023 16:44:13'!
PASSED!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'fd 6/26/2023 16:44:13'!
PASSED!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'fd 6/26/2023 16:44:14'!
PASSED!

----SNAPSHOT----(26 June 2023 16:44:54) CuisUniversity-5832.image priorSource: 9546719!
!CustomerImporter methodsFor: 'initialization' stamp: 'fd 6/26/2023 16:46:20' prior: 50630209!
importCustomers
	
	| line |
	
	line := inputStream nextLine.
	"TODO: en la primera linea nil (vacia?) deja de importar, esto esta bien? armar un test?"
	
	[ line notNil ] whileTrue: [ | newCustomer |
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer 
				firstName: customerData second 
				lastName: customerData third 
				identificationType: customerData fourth 
				identificationNumber: customerData fifth.
			session persist: newCustomer ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := 
				Address 
					streetName: addressData second 
					streetNumber: addressData third asNumber
					town: addressData fourth
					province: addressData sixth
					zipCode: addressData fifth asNumber.
			newCustomer addAddress: newAddress].

		line := inputStream nextLine. ].! !

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'fd 6/26/2023 16:46:27'!
ERROR!

!testRun: #ImportTest #test02ImportingCustomersShowsCorrectCustomerNames stamp: 'fd 6/26/2023 16:46:27'!
ERROR!

!testRun: #ImportTest #test03ImportingCustomersShowsCorrectCustomerIdentificationType stamp: 'fd 6/26/2023 16:46:27'!
ERROR!

!testRun: #ImportTest #test04ImportingCustomersShowsCorrectCustomerIdentificationNumber stamp: 'fd 6/26/2023 16:46:27'!
ERROR!

!testRun: #ImportTest #test05ImportingCustomersShowsCorrectCustomerAddresses stamp: 'fd 6/26/2023 16:46:27'!
ERROR!

!testRun: #ImportTest #test01Importing5CustomersShows5CustomersInDBS stamp: 'fd 6/26/2023 16:46:30'!
ERROR!
!CustomerImporter methodsFor: 'initialization' stamp: 'fd 6/26/2023 16:46:47' prior: 50630288!
importCustomers
	
	| line newCustomer |
	
	line := inputStream nextLine.
	"TODO: en la primera linea nil (vacia?) deja de importar, esto esta bien? armar un test?"
	
	[ line notNil ] whileTrue: [
		(line beginsWith: 'C') ifTrue: [ | customerData |
			customerData := line findTokens: $,.
			newCustomer := Customer 
				firstName: customerData second 
				lastName: customerData third 
				identificationType: customerData fourth 
				identificationNumber: customerData fifth.
			session persist: newCustomer ].

		(line beginsWith: 'A') ifTrue: [ | addressData newAddress |
			addressData := line findTokens: $,.
			newAddress := 
				Address 
					streetName: addressData second 
					streetNumber: addressData third asNumber
					town: addressData fourth
					province: addressData sixth
					zipCode: addressData fifth asNumber.
			newCustomer addAddress: newAddress].

		line := inputStream nextLine. ].! !

----SNAPSHOT----(26 June 2023 16:46:54) CuisUniversity-5832.image priorSource: 9556272!

----SNAPSHOT----(26 June 2023 16:48:21) CuisUniversity-5832.image priorSource: 9559119!

----STARTUP---- (29 June 2023 20:21:17) as /home/julia/Documents/Inge/Smalltalk/CustomerImporter/linux64/CuisUniversity-5832.image!


!classRemoval: #DataBaseSession stamp: 'JV 6/29/2023 20:21:37'!
Object subclass: #DataBaseSession
	instanceVariableNames: 'configuration tables id'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CustomerImporter'!

!classRemoval: #CustomerImporter stamp: 'JV 6/29/2023 20:21:37'!
Object subclass: #CustomerImporter
	instanceVariableNames: 'inputStream session'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CustomerImporter'!

!classRemoval: #Customer stamp: 'JV 6/29/2023 20:21:37'!
Object subclass: #Customer
	instanceVariableNames: 'id firstName lastName identificationType identificationNumber addresses'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CustomerImporter'!

!classRemoval: #Address stamp: 'JV 6/29/2023 20:21:37'!
Object subclass: #Address
	instanceVariableNames: 'id streetName streetNumber town zipCode province'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CustomerImporter'!

!classRemoval: #ImportTest stamp: 'JV 6/29/2023 20:21:38'!
TestCase subclass: #ImportTest
	instanceVariableNames: 'session'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CustomerImporter'!

----End fileIn of /home/julia/Documents/Inge/Smalltalk/CustomerImporter/linux64/CustomerImporter-60.st----!

!classDefinition: #PersistentCustomerSystem category: 'CustomerImporter' stamp: 'JV 6/29/2023 20:24:15'!
Object subclass: #PersistentCustomerSystem
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CustomerImporter'!
!ImportTest methodsFor: 'setUp/tearDown' stamp: 'JV 6/29/2023 20:24:12' prior: 50630623 overrides: 16961394!
setUp
	| customerSystem |
	customerSystem := PersistentCustomerSystem new.
	session := DataBaseSession for: (Array with: Address with: Customer).
	session beginTransaction.
! !
!ImportTest methodsFor: 'customer' stamp: 'JV 6/29/2023 20:25:41' prior: 50630634!
customerWithIdentificationType: anIdType number: anIdNumber

	^ (self session
		select: [ :aCustomer | aCustomer identificationType = anIdType and: [ aCustomer identificationNumber = anIdNumber ]]
		ofType: Customer) anyOne! !
!ImportTest methodsFor: 'customer' stamp: 'JV 6/29/2023 20:25:46' prior: 50630644!
numberOfCustomers

	^ (self session selectAllOfType: Customer) size! !
!ImportTest methodsFor: 'assertions' stamp: 'JV 6/29/2023 20:25:52' prior: 50630609!
shouldFailImporting: aReadStream messageText: anErrorMessageText asserting: anAssertionBlock

	self
		should: [ CustomerImporter valueFrom: aReadStream into: self session. ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anErrorMessageText equals: anError messageText.
			anAssertionBlock value ]

	! !
!ImportTest methodsFor: 'setUp/tearDown' stamp: 'JV 6/29/2023 20:25:59' prior: 50630630 overrides: 16961402!
tearDown

	self session commit.
	session close.
	! !
!ImportTest methodsFor: 'setUp/tearDown' stamp: 'JV 6/29/2023 20:26:02' prior: 50631121 overrides: 16961402!
tearDown

	self session commit.
	self session close.
	! !
!ImportTest methodsFor: 'tests' stamp: 'JV 6/29/2023 20:26:10' prior: 50630430!
test01ValidDataIsImportedCorrectly

	CustomerImporter valueFrom: self validImportData into: self session.

	self assertImportedRightNumberOfCustomers.
	self assertPepeSanchezWasImportedCorrecty.
	self assertJuanPerezWasImportedCorrectly ! !
!ImportTest methodsFor: 'tests' stamp: 'JV 6/29/2023 20:26:16' prior: 50630440!
test02CanNotImportAddressWithoutCustomer

	self
		should: [ CustomerImporter valueFrom: self addressWithoutCustomerData into: self session. ]
		raise: Error - MessageNotUnderstood
		withMessageText: CustomerImporter canNotImportAddressWithoutCustomerErrorDescription

	! !
!ImportTest methodsFor: 'setUp/tearDown' stamp: 'JV 6/29/2023 20:26:22' prior: 50631082 overrides: 16961394!
setUp
	| customerSystem |
	customerSystem := PersistentCustomerSystem new.
	session := DataBaseSession for: (Array with: Address with: Customer).
	self session beginTransaction.
! !
!ImportTest methodsFor: 'tests' stamp: 'JV 6/29/2023 20:26:37'!
session
	^session! !

!testRun: #ImportTest #test01ValidDataIsImportedCorrectly stamp: 'JV 6/29/2023 20:27:32'!
PASSED!

!testRun: #ImportTest #test02CanNotImportAddressWithoutCustomer stamp: 'JV 6/29/2023 20:27:32'!
PASSED!

!testRun: #ImportTest #test03DoesNotImportRecordsStartingWithCButMoreCharacters stamp: 'JV 6/29/2023 20:27:32'!
PASSED!

!testRun: #ImportTest #test04DoesNotImportRecordsStartingWithAButMoreCharacters stamp: 'JV 6/29/2023 20:27:32'!
PASSED!

!testRun: #ImportTest #test05CanNotImportAddressRecordWithLessThanSixFields stamp: 'JV 6/29/2023 20:27:33'!
PASSED!

!testRun: #ImportTest #test06CanNotImportAddressRecordWithMoreThanSixFields stamp: 'JV 6/29/2023 20:27:33'!
PASSED!

!testRun: #ImportTest #test07CanNotImportCustomerRecordWithLessThanFiveFields stamp: 'JV 6/29/2023 20:27:33'!
PASSED!

!testRun: #ImportTest #test08CanNotImportCustomerRecordWithMoreThanFiveFields stamp: 'JV 6/29/2023 20:27:33'!
PASSED!

!testRun: #ImportTest #test09CannotImportEmptyLine stamp: 'JV 6/29/2023 20:27:33'!
PASSED!
!PersistentCustomerSystem methodsFor: 'no messages' stamp: 'JV 6/29/2023 20:30:59'!
numberOfCustomers

	^ (self session selectAllOfType: Customer) size! !

!classDefinition: #PersistentCustomerSystem category: 'CustomerImporter' stamp: 'JV 6/29/2023 20:31:05'!
Object subclass: #PersistentCustomerSystem
	instanceVariableNames: 'session'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CustomerImporter'!
!PersistentCustomerSystem methodsFor: 'as yet unclassified' stamp: 'JV 6/29/2023 20:31:03' prior: 50631198!
numberOfCustomers

	^ (session selectAllOfType: Customer) size! !
!PersistentCustomerSystem methodsFor: 'as yet unclassified' stamp: 'JV 6/29/2023 20:31:25' overrides: 16920235!
initialize

	session := '' ! !
!PersistentCustomerSystem methodsFor: 'as yet unclassified' stamp: 'JV 6/29/2023 20:31:28' prior: 50631218 overrides: 16920235!
initialize

	session := ''. ! !

!classDefinition: #ImportTest category: 'CustomerImporter' stamp: 'JV 6/29/2023 20:34:05'!
TestCase subclass: #ImportTest
	instanceVariableNames: 'session customerSys'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CustomerImporter'!
!ImportTest methodsFor: 'setUp/tearDown' stamp: 'JV 6/29/2023 20:34:03' prior: 50631155 overrides: 16961394!
setUp
	
	customerSys := PersistentCustomerSystem new.
	session := DataBaseSession for: (Array with: Address with: Customer).
	self session beginTransaction.
! !

!classDefinition: #ImportTest category: 'CustomerImporter' stamp: 'JV 6/29/2023 20:34:47'!
TestCase subclass: #ImportTest
	instanceVariableNames: 'session customerSystem'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CustomerImporter'!
!ImportTest methodsFor: 'as yet unclassified' stamp: 'JV 6/29/2023 20:34:47' prior: 50631236 overrides: 16961394!
setUp
	
	customerSystem := PersistentCustomerSystem new.
	session := DataBaseSession for: (Array with: Address with: Customer).
	self session beginTransaction.
! !
!ImportTest methodsFor: 'customer' stamp: 'JV 6/29/2023 20:35:04' prior: 50631101!
numberOfCustomers

	^ customerSystem numberOfCustomers! !

!testRun: #ImportTest #test01ValidDataIsImportedCorrectly stamp: 'JV 6/29/2023 20:35:05'!
ERROR!

!testRun: #ImportTest #test02CanNotImportAddressWithoutCustomer stamp: 'JV 6/29/2023 20:35:05'!
PASSED!

!testRun: #ImportTest #test03DoesNotImportRecordsStartingWithCButMoreCharacters stamp: 'JV 6/29/2023 20:35:05'!
ERROR!

!testRun: #ImportTest #test04DoesNotImportRecordsStartingWithAButMoreCharacters stamp: 'JV 6/29/2023 20:35:05'!
ERROR!

!testRun: #ImportTest #test05CanNotImportAddressRecordWithLessThanSixFields stamp: 'JV 6/29/2023 20:35:05'!
ERROR!

!testRun: #ImportTest #test06CanNotImportAddressRecordWithMoreThanSixFields stamp: 'JV 6/29/2023 20:35:06'!
ERROR!

!testRun: #ImportTest #test07CanNotImportCustomerRecordWithLessThanFiveFields stamp: 'JV 6/29/2023 20:35:06'!
ERROR!

!testRun: #ImportTest #test08CanNotImportCustomerRecordWithMoreThanFiveFields stamp: 'JV 6/29/2023 20:35:06'!
ERROR!

!testRun: #ImportTest #test09CannotImportEmptyLine stamp: 'JV 6/29/2023 20:35:06'!
ERROR!
!ImportTest methodsFor: 'setUp/tearDown' stamp: 'JV 6/29/2023 20:35:30' prior: 50631253 overrides: 16961394!
setUp
	
	customerSystem := PersistentCustomerSystem for: session.
	session := DataBaseSession for: (Array with: Address with: Customer).
	self session beginTransaction.
! !
!PersistentCustomerSystem class methodsFor: 'no messages' stamp: 'JV 6/29/2023 20:35:54'!
for: aSession
	^self new initializeFor: aSession! !
!PersistentCustomerSystem methodsFor: 'as yet unclassified' stamp: 'JV 6/29/2023 20:36:20'!
initializeFor: aSession

	session := aSession. ! !

!methodRemoval: PersistentCustomerSystem #initialize stamp: 'JV 6/29/2023 20:36:23'!
initialize

	session := ''. !
!ImportTest methodsFor: 'tests' stamp: 'JV 6/29/2023 20:36:51' prior: 50631163!
session
	^customerSystem session! !
!PersistentCustomerSystem methodsFor: 'as yet unclassified' stamp: 'JV 6/29/2023 20:37:55'!
session
	^session! !
!ImportTest methodsFor: 'setUp/tearDown' stamp: 'JV 6/29/2023 20:38:43' prior: 50631298 overrides: 16961394!
setUp
	
	session := DataBaseSession for: (Array with: Address with: Customer).
	
	customerSystem := PersistentCustomerSystem for: session.
	
	self session beginTransaction.
! !

!testRun: #ImportTest #test01ValidDataIsImportedCorrectly stamp: 'JV 6/29/2023 20:38:46'!
PASSED!

!testRun: #ImportTest #test02CanNotImportAddressWithoutCustomer stamp: 'JV 6/29/2023 20:38:47'!
PASSED!

!testRun: #ImportTest #test03DoesNotImportRecordsStartingWithCButMoreCharacters stamp: 'JV 6/29/2023 20:38:47'!
PASSED!

!testRun: #ImportTest #test04DoesNotImportRecordsStartingWithAButMoreCharacters stamp: 'JV 6/29/2023 20:38:47'!
PASSED!

!testRun: #ImportTest #test05CanNotImportAddressRecordWithLessThanSixFields stamp: 'JV 6/29/2023 20:38:47'!
PASSED!

!testRun: #ImportTest #test06CanNotImportAddressRecordWithMoreThanSixFields stamp: 'JV 6/29/2023 20:38:48'!
PASSED!

!testRun: #ImportTest #test07CanNotImportCustomerRecordWithLessThanFiveFields stamp: 'JV 6/29/2023 20:38:48'!
PASSED!

!testRun: #ImportTest #test08CanNotImportCustomerRecordWithMoreThanFiveFields stamp: 'JV 6/29/2023 20:38:48'!
PASSED!

!testRun: #ImportTest #test09CannotImportEmptyLine stamp: 'JV 6/29/2023 20:38:48'!
PASSED!

!methodRemoval: ImportTest #numberOfCustomers stamp: 'JV 6/29/2023 20:44:54'!
numberOfCustomers

	^ customerSystem numberOfCustomers!
!ImportTest methodsFor: 'assertions' stamp: 'JV 6/29/2023 20:44:54' prior: 50630561!
assertImportedOneCustomerWithoutAddress

	| importedCustomer |

	self assert: 1 equals: ( customerSystem numberOfCustomers).
	importedCustomer := self customerWithIdentificationType: 'D' number: '22333444'.
	self assert: importedCustomer isAddressesEmpty
	! !
!ImportTest methodsFor: 'assertions' stamp: 'JV 6/29/2023 20:44:54' prior: 50630571!
assertImportedRightNumberOfCustomers

	^ self assert: 2 equals: ( customerSystem numberOfCustomers)! !
!ImportTest methodsFor: 'assertions' stamp: 'JV 6/29/2023 20:44:54' prior: 50630588!
assertNoCustomerWasImported

	^ self assert: 0 equals: ( customerSystem numberOfCustomers)! !

!testRun: #ImportTest #test01ValidDataIsImportedCorrectly stamp: 'JV 6/29/2023 20:44:59'!
PASSED!

!testRun: #ImportTest #test02CanNotImportAddressWithoutCustomer stamp: 'JV 6/29/2023 20:45:00'!
PASSED!

!testRun: #ImportTest #test03DoesNotImportRecordsStartingWithCButMoreCharacters stamp: 'JV 6/29/2023 20:45:00'!
PASSED!

!testRun: #ImportTest #test04DoesNotImportRecordsStartingWithAButMoreCharacters stamp: 'JV 6/29/2023 20:45:00'!
PASSED!

!testRun: #ImportTest #test05CanNotImportAddressRecordWithLessThanSixFields stamp: 'JV 6/29/2023 20:45:00'!
PASSED!

!testRun: #ImportTest #test06CanNotImportAddressRecordWithMoreThanSixFields stamp: 'JV 6/29/2023 20:45:01'!
PASSED!

!testRun: #ImportTest #test07CanNotImportCustomerRecordWithLessThanFiveFields stamp: 'JV 6/29/2023 20:45:01'!
PASSED!

!testRun: #ImportTest #test08CanNotImportCustomerRecordWithMoreThanFiveFields stamp: 'JV 6/29/2023 20:45:01'!
PASSED!

!testRun: #ImportTest #test09CannotImportEmptyLine stamp: 'JV 6/29/2023 20:45:01'!
PASSED!
!ImportTest methodsFor: 'assertions' stamp: 'JV 6/29/2023 20:48:37' prior: 50631390!
assertNoCustomerWasImported

	^ self assert: 0 equals: (customerSystem numberOfCustomers)! !

!classDefinition: #CustomerSystem category: 'CustomerImporter' stamp: 'JV 6/29/2023 20:49:00'!
Object subclass: #CustomerSystem
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CustomerImporter'!

!classDefinition: #PersistentCustomerSystem category: 'CustomerImporter' stamp: 'JV 6/29/2023 20:49:00'!
CustomerSystem subclass: #PersistentCustomerSystem
	instanceVariableNames: 'session'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CustomerImporter'!
!CustomerSystem methodsFor: 'no messages' stamp: 'JV 6/29/2023 20:49:18'!
numberOfCustomers
	self subclassResponsibility ! !
!ImportTest methodsFor: 'setUp/tearDown' stamp: 'JV 6/29/2023 20:49:56' prior: 50631329 overrides: 16961394!
setUp
	
	session := DataBaseSession for: (Array with: Address with: Customer).
	
	customerSystem := PersistentCustomerSystem for: session.
	
	
! !
!PersistentCustomerSystem methodsFor: 'as yet unclassified' stamp: 'JV 6/29/2023 20:50:03'!
start
	self session beginTransaction.! !
!PersistentCustomerSystem methodsFor: 'as yet unclassified' stamp: 'JV 6/29/2023 20:50:08' prior: 50631462!
start
	session beginTransaction.! !
!ImportTest methodsFor: 'setUp/tearDown' stamp: 'JV 6/29/2023 20:50:24' prior: 50631454 overrides: 16961394!
setUp
	
	session := DataBaseSession for: (Array with: Address with: Customer).
	
	customerSystem := PersistentCustomerSystem for: session.
	
	customerSystem start.
	
	
! !

!testRun: #ImportTest #test01ValidDataIsImportedCorrectly stamp: 'JV 6/29/2023 20:50:26'!
PASSED!

!testRun: #ImportTest #test02CanNotImportAddressWithoutCustomer stamp: 'JV 6/29/2023 20:50:26'!
PASSED!

!testRun: #ImportTest #test03DoesNotImportRecordsStartingWithCButMoreCharacters stamp: 'JV 6/29/2023 20:50:26'!
PASSED!

!testRun: #ImportTest #test04DoesNotImportRecordsStartingWithAButMoreCharacters stamp: 'JV 6/29/2023 20:50:27'!
PASSED!

!testRun: #ImportTest #test05CanNotImportAddressRecordWithLessThanSixFields stamp: 'JV 6/29/2023 20:50:27'!
PASSED!

!testRun: #ImportTest #test06CanNotImportAddressRecordWithMoreThanSixFields stamp: 'JV 6/29/2023 20:50:27'!
PASSED!

!testRun: #ImportTest #test07CanNotImportCustomerRecordWithLessThanFiveFields stamp: 'JV 6/29/2023 20:50:27'!
PASSED!

!testRun: #ImportTest #test08CanNotImportCustomerRecordWithMoreThanFiveFields stamp: 'JV 6/29/2023 20:50:27'!
PASSED!

!testRun: #ImportTest #test09CannotImportEmptyLine stamp: 'JV 6/29/2023 20:50:28'!
PASSED!
!CustomerSystem methodsFor: 'as yet unclassified' stamp: 'JV 6/29/2023 20:50:43'!
start
	self subclassResponsibility ! !
!CustomerSystem methodsFor: 'as yet unclassified' stamp: 'JV 6/29/2023 20:51:37'!
session
	self subclassResponsibility ! !

CustomerSystem subclass: #TransientCustomerSystem
	instanceVariableNames: 'session'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CustomerImporter'!

!classDefinition: #TransientCustomerSystem category: 'CustomerImporter' stamp: 'JV 6/29/2023 20:51:49'!
CustomerSystem subclass: #TransientCustomerSystem
	instanceVariableNames: 'session'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CustomerImporter'!
!TransientCustomerSystem methodsFor: 'no messages' stamp: 'JV 6/29/2023 20:52:08' overrides: 50631449!
numberOfCustomers
	! !
!TransientCustomerSystem methodsFor: 'as yet unclassified' stamp: 'JV 6/29/2023 20:52:16' overrides: 50631516!
session
	^session! !
!TransientCustomerSystem methodsFor: 'as yet unclassified' stamp: 'JV 6/29/2023 20:52:19' overrides: 50631512!
start! !

!methodRemoval: TransientCustomerSystem #session stamp: 'JV 6/29/2023 20:52:49'!
session
	^session!

!classDefinition: #TransientCustomerSystem category: 'CustomerImporter' stamp: 'JV 6/29/2023 20:52:55'!
CustomerSystem subclass: #TransientCustomerSystem
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CustomerImporter'!

!classDefinition: #TransientCustomerSystem category: 'CustomerImporter' stamp: 'JV 6/29/2023 20:53:47'!
CustomerSystem subclass: #TransientCustomerSystem
	instanceVariableNames: 'data'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CustomerImporter'!
!TransientCustomerSystem methodsFor: 'as yet unclassified' stamp: 'JV 6/29/2023 20:53:45'!
data
	^data! !
!TransientCustomerSystem methodsFor: 'as yet unclassified' stamp: 'JV 6/29/2023 20:53:56'!
initializeFor: aDataSet! !
!TransientCustomerSystem methodsFor: 'as yet unclassified' stamp: 'JV 6/29/2023 20:54:06' prior: 50631571!
initializeFor: aDataSet
	data := aDataSet! !
!ImportTest methodsFor: 'setUp/tearDown' stamp: 'JV 6/29/2023 20:56:42' prior: 50631472 overrides: 16961394!
setUp
	
	| ses |
	ses := DataBaseSession for: (Array with: Address with: Customer).
	
	customerSystem := PersistentCustomerSystem for: session.
	
	customerSystem start.
	
	
! !
!ImportTest methodsFor: 'setUp/tearDown' stamp: 'JV 6/29/2023 20:57:11' prior: 50631581 overrides: 16961394!
setUp
	
	| ses |
	ses := DataBaseSession for: (Array with: Address with: Customer).
	
	customerSystem := PersistentCustomerSystem for: ses.
	
	customerSystem start.
	
	
! !

!classDefinition: #ImportTest category: 'CustomerImporter' stamp: 'JV 6/29/2023 20:57:18'!
TestCase subclass: #ImportTest
	instanceVariableNames: 'customerSystem'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CustomerImporter'!
!ImportTest methodsFor: 'setUp/tearDown' stamp: 'JV 6/29/2023 20:57:29' prior: 50631590 overrides: 16961394!
setUp
	
	| session |
	session := DataBaseSession for: (Array with: Address with: Customer).
	
	customerSystem := PersistentCustomerSystem for: session.
	
	customerSystem start.
	
	
! !
!ImportTest methodsFor: 'setUp/tearDown' stamp: 'JV 6/29/2023 20:58:22' prior: 50631127 overrides: 16961402!
tearDown

	customerSystem stop.
	! !
!PersistentCustomerSystem methodsFor: 'as yet unclassified' stamp: 'JV 6/29/2023 20:58:34'!
stop 
	session commit.
	session close.! !

!testRun: #ImportTest #test01ValidDataIsImportedCorrectly stamp: 'JV 6/29/2023 20:58:37'!
PASSED!

!testRun: #ImportTest #test02CanNotImportAddressWithoutCustomer stamp: 'JV 6/29/2023 20:58:37'!
PASSED!

!testRun: #ImportTest #test03DoesNotImportRecordsStartingWithCButMoreCharacters stamp: 'JV 6/29/2023 20:58:38'!
PASSED!

!testRun: #ImportTest #test04DoesNotImportRecordsStartingWithAButMoreCharacters stamp: 'JV 6/29/2023 20:58:38'!
PASSED!

!testRun: #ImportTest #test05CanNotImportAddressRecordWithLessThanSixFields stamp: 'JV 6/29/2023 20:58:38'!
PASSED!

!testRun: #ImportTest #test06CanNotImportAddressRecordWithMoreThanSixFields stamp: 'JV 6/29/2023 20:58:38'!
PASSED!

!testRun: #ImportTest #test07CanNotImportCustomerRecordWithLessThanFiveFields stamp: 'JV 6/29/2023 20:58:39'!
PASSED!

!testRun: #ImportTest #test08CanNotImportCustomerRecordWithMoreThanFiveFields stamp: 'JV 6/29/2023 20:58:39'!
PASSED!

!testRun: #ImportTest #test09CannotImportEmptyLine stamp: 'JV 6/29/2023 20:58:39'!
PASSED!
!CustomerSystem methodsFor: 'as yet unclassified' stamp: 'JV 6/29/2023 21:00:02'!
stop
	self subclassResponsibility ! !
!TransientCustomerSystem methodsFor: 'as yet unclassified' stamp: 'JV 6/29/2023 21:00:19' overrides: 50631658!
stop! !
!TransientCustomerSystem methodsFor: 'as yet unclassified' stamp: 'JV 6/29/2023 21:02:25' prior: 50631534 overrides: 50631449!
numberOfCustomers
	data select: [ :element | element isKindOf: Customer] size! !

Object subclass: #Environment
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CustomerImporter'!

!classDefinition: #Environment category: 'CustomerImporter' stamp: 'JV 6/29/2023 21:03:14'!
Object subclass: #Environment
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CustomerImporter'!

Environment subclass: #DevelopingEnvironment
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CustomerImporter'!

!classDefinition: #DevelopingEnvironment category: 'CustomerImporter' stamp: 'JV 6/29/2023 21:03:36'!
Environment subclass: #DevelopingEnvironment
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CustomerImporter'!

Environment subclass: #IntegrationEnvironment
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CustomerImporter'!

!classDefinition: #IntegrationEnvironment category: 'CustomerImporter' stamp: 'JV 6/29/2023 21:04:10'!
Environment subclass: #IntegrationEnvironment
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CustomerImporter'!
!Environment methodsFor: 'no messages' stamp: 'JV 6/29/2023 21:04:45'!
current
	self subclassResponsibility ! !
!DevelopingEnvironment methodsFor: 'as yet unclassified' stamp: 'JV 6/29/2023 21:04:52' overrides: 50631710!
current
	self subclassResponsibility ! !
!IntegrationEnvironment methodsFor: 'as yet unclassified' stamp: 'JV 6/29/2023 21:04:52' overrides: 50631710!
current
	self subclassResponsibility ! !

!methodRemoval: Environment #current stamp: 'JV 6/29/2023 21:04:52'!
current
	self subclassResponsibility !
!Environment methodsFor: 'as yet unclassified' stamp: 'JV 6/29/2023 21:04:52'!
current

	self subclassResponsibility! !
!Environment methodsFor: 'as yet unclassified' stamp: 'JV 6/29/2023 21:09:29' prior: 50631728!
current

	^self subclasses detect: [ :subclass | subclass isCurrent] new.! !
!Environment class methodsFor: 'no messages' stamp: 'JV 6/29/2023 21:09:49'!
current

	^self subclasses detect: [ :subclass | subclass isCurrent] new.! !
!Environment class methodsFor: 'as yet unclassified' stamp: 'JV 6/29/2023 21:10:05' prior: 50631738!
current

	^(self subclasses detect: [ :subclass | subclass isCurrent]) new.! !

!methodRemoval: Environment #current stamp: 'JV 6/29/2023 21:10:15'!
current

	^self subclasses detect: [ :subclass | subclass isCurrent] new.!
!Environment methodsFor: 'no messages' stamp: 'JV 6/29/2023 21:10:35'!
isCurrent! !
!DevelopingEnvironment methodsFor: 'as yet unclassified' stamp: 'JV 6/29/2023 21:10:41' overrides: 50631754!
isCurrent! !
!IntegrationEnvironment methodsFor: 'as yet unclassified' stamp: 'JV 6/29/2023 21:10:41' overrides: 50631754!
isCurrent! !

!methodRemoval: Environment #isCurrent stamp: 'JV 6/29/2023 21:10:41'!
isCurrent!
!Environment methodsFor: 'as yet unclassified' stamp: 'JV 6/29/2023 21:10:41'!
isCurrent

	self subclassResponsibility! !

!methodRemoval: Environment #isCurrent stamp: 'JV 6/29/2023 21:10:44'!
isCurrent

	self subclassResponsibility!
!DevelopingEnvironment methodsFor: 'as yet unclassified' stamp: 'JV 6/29/2023 21:12:31' prior: 50631758!
isCurrent
	^True! !
!DevelopingEnvironment methodsFor: 'as yet unclassified' stamp: 'JV 6/29/2023 21:12:39' prior: 50631777!
isCurrent
	^False! !
!IntegrationEnvironment methodsFor: 'as yet unclassified' stamp: 'JV 6/29/2023 21:12:47' prior: 50631762!
isCurrent
	^True! !

!testRun: #ImportTest #test01ValidDataIsImportedCorrectly stamp: 'JV 6/29/2023 21:12:51'!
PASSED!

!testRun: #ImportTest #test02CanNotImportAddressWithoutCustomer stamp: 'JV 6/29/2023 21:12:51'!
PASSED!

!testRun: #ImportTest #test03DoesNotImportRecordsStartingWithCButMoreCharacters stamp: 'JV 6/29/2023 21:12:51'!
PASSED!

!testRun: #ImportTest #test04DoesNotImportRecordsStartingWithAButMoreCharacters stamp: 'JV 6/29/2023 21:12:52'!
PASSED!

!testRun: #ImportTest #test05CanNotImportAddressRecordWithLessThanSixFields stamp: 'JV 6/29/2023 21:12:52'!
PASSED!

!testRun: #ImportTest #test06CanNotImportAddressRecordWithMoreThanSixFields stamp: 'JV 6/29/2023 21:12:52'!
PASSED!

!testRun: #ImportTest #test07CanNotImportCustomerRecordWithLessThanFiveFields stamp: 'JV 6/29/2023 21:12:52'!
PASSED!

!testRun: #ImportTest #test08CanNotImportCustomerRecordWithMoreThanFiveFields stamp: 'JV 6/29/2023 21:12:52'!
PASSED!

!testRun: #ImportTest #test09CannotImportEmptyLine stamp: 'JV 6/29/2023 21:12:53'!
PASSED!
!ImportTest methodsFor: 'setUp/tearDown' stamp: 'JV 6/29/2023 21:23:48' prior: 50631607 overrides: 16961394!
setUp
	
	| session |
	session := DataBaseSession for: (Array with: Address with: Customer).
	
	customerSystem := Environment newCustomerSystem.
	
	customerSystem start.
	
	
! !
!ImportTest methodsFor: 'setUp/tearDown' stamp: 'JV 6/29/2023 21:24:07' prior: 50631821 overrides: 16961394!
setUp
	
	
	
	customerSystem := Environment newCustomerSystem.
	
	customerSystem start.
	
	
! !
!Environment class methodsFor: 'as yet unclassified' stamp: 'JV 6/29/2023 21:25:09'!
createCustomerSystem

| session |
	session := DataBaseSession for: (Array with: Address with: Customer).! !
!Environment class methodsFor: 'as yet unclassified' stamp: 'JV 6/29/2023 21:25:55' prior: 50631836!
createCustomerSystem
! !

!classDefinition: #Environment category: 'CustomerImporter' stamp: 'JV 6/29/2023 21:26:11'!
Object subclass: #Environment
	instanceVariableNames: 'session'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CustomerImporter'!
!Environment methodsFor: 'no messages' stamp: 'JV 6/29/2023 21:26:10' overrides: 16920235!
initialize
	session := DataBaseSession for: (Array with: Address with: Customer)! !
!Environment methodsFor: 'as yet unclassified' stamp: 'JV 6/29/2023 21:27:04' prior: 50631854 overrides: 16920235!
initialize
	
	! !
!Environment class methodsFor: 'as yet unclassified' stamp: 'JV 6/29/2023 21:29:03' prior: 50631843!
createCustomerSystem
	^self current new.! !
!Environment class methodsFor: 'as yet unclassified' stamp: 'JV 6/29/2023 21:29:09' prior: 50631744!
current

	^(self subclasses detect: [ :subclass | subclass isCurrent]).! !
!Environment class methodsFor: 'as yet unclassified' stamp: 'JV 6/29/2023 21:30:48' prior: 50631865!
createCustomerSystem
	^(self subclasses detect: [ :env | env isCurrent]) createCustomerSystem.! !
!Environment class methodsFor: 'as yet unclassified' stamp: 'JV 6/29/2023 21:31:16' prior: 50631876!
createCustomerSystem
	^(self subclasses detect: [ :env | env isCurrent]) createCustomerSystem.! !
!DevelopingEnvironment class methodsFor: 'no messages' stamp: 'JV 6/29/2023 21:31:49' overrides: 50631883!
createCustomerSystem
	^TransientCustomerSystem new.! !
!TransientCustomerSystem methodsFor: 'as yet unclassified' stamp: 'JV 6/29/2023 21:32:23' prior: 50631576!
initializeFor: aDataSet
	data := OrderedCollection new.! !
!TransientCustomerSystem methodsFor: 'as yet unclassified' stamp: 'JV 6/29/2023 21:32:30' overrides: 16920235!
initialize
	data := OrderedCollection new.! !

!methodRemoval: TransientCustomerSystem #initializeFor: stamp: 'JV 6/29/2023 21:32:33'!
initializeFor: aDataSet
	data := OrderedCollection new.!
!PersistentCustomerSystem methodsFor: 'as yet unclassified' stamp: 'JV 6/29/2023 21:32:53' overrides: 16920235!
initialize

	session := DataBaseSession for: (Array with: Address with: Customer). ! !

!methodRemoval: PersistentCustomerSystem #initializeFor: stamp: 'JV 6/29/2023 21:33:10'!
initializeFor: aSession

	session := aSession. !

!methodRemoval: PersistentCustomerSystem class #for: stamp: 'JV 6/29/2023 21:33:13'!
for: aSession
	^self new initializeFor: aSession!
!DevelopingEnvironment class methodsFor: 'as yet unclassified' stamp: 'JV 6/29/2023 21:33:40'!
isCurrent
	^False! !

!methodRemoval: DevelopingEnvironment #isCurrent stamp: 'JV 6/29/2023 21:33:40'!
isCurrent
	^False!
!IntegrationEnvironment class methodsFor: 'as yet unclassified' stamp: 'JV 6/29/2023 21:33:51'!
isCurrent
	^True! !

!methodRemoval: IntegrationEnvironment #isCurrent stamp: 'JV 6/29/2023 21:33:51'!
isCurrent
	^True!

!methodRemoval: IntegrationEnvironment #current stamp: 'JV 6/29/2023 21:33:56'!
current
	self subclassResponsibility !

!methodRemoval: DevelopingEnvironment #current stamp: 'JV 6/29/2023 21:34:07'!
current
	self subclassResponsibility !

!methodRemoval: Environment #initialize stamp: 'JV 6/29/2023 21:34:12'!
initialize
	
	!
!IntegrationEnvironment class methodsFor: 'as yet unclassified' stamp: 'JV 6/29/2023 21:34:39' overrides: 50631883!
createCustomerSystem
	^PersistentCustomerSystem new.! !
!Environment class methodsFor: 'as yet unclassified' stamp: 'JV 6/29/2023 21:35:34'!
isCurrent

	self subclassResponsibility ! !
!Environment class methodsFor: 'as yet unclassified' stamp: 'JV 6/29/2023 21:37:40'!
newCustomerSystem
	^(self subclasses detect: [ :env | env isCurrent]) createCustomerSystem.! !
!DevelopingEnvironment class methodsFor: 'as yet unclassified' stamp: 'JV 6/29/2023 21:37:40' overrides: 50631962!
newCustomerSystem
	^TransientCustomerSystem new.! !
!IntegrationEnvironment class methodsFor: 'as yet unclassified' stamp: 'JV 6/29/2023 21:37:40' overrides: 50631962!
newCustomerSystem
	^PersistentCustomerSystem new.! !
!Environment class methodsFor: 'as yet unclassified' stamp: 'JV 6/29/2023 21:37:40' prior: 50631883!
createCustomerSystem
	^(self subclasses detect: [ :env | env isCurrent]) newCustomerSystem.! !
!Environment class methodsFor: 'as yet unclassified' stamp: 'JV 6/29/2023 21:37:40' prior: 50631962!
newCustomerSystem
	^(self subclasses detect: [ :env | env isCurrent]) newCustomerSystem.! !

!methodRemoval: Environment class #createCustomerSystem stamp: 'JV 6/29/2023 21:37:40'!
createCustomerSystem
	^(self subclasses detect: [ :env | env isCurrent]) newCustomerSystem.!

!methodRemoval: DevelopingEnvironment class #createCustomerSystem stamp: 'JV 6/29/2023 21:37:40'!
createCustomerSystem
	^TransientCustomerSystem new.!

!methodRemoval: IntegrationEnvironment class #createCustomerSystem stamp: 'JV 6/29/2023 21:37:40'!
createCustomerSystem
	^PersistentCustomerSystem new.!

----SNAPSHOT----(29 June 2023 21:39:28) CuisUniversity-5832.image priorSource: 9559208!

----STARTUP---- (2 July 2023 22:05:42) as /home/julia/Documents/Inge/Smalltalk/CustomerImporter/linux64/CuisUniversity-5832.image!


True!
!IntegrationEnvironment class methodsFor: 'as yet unclassified' stamp: 'JV 7/2/2023 22:06:37' prior: 50631934 overrides: 50631957!
isCurrent
	^true! !
!DevelopingEnvironment class methodsFor: 'as yet unclassified' stamp: 'JV 7/2/2023 22:06:44' prior: 50631927 overrides: 50631957!
isCurrent
	^false! !

!testRun: #ImportTest #test01ValidDataIsImportedCorrectly stamp: 'JV 7/2/2023 22:06:47'!
PASSED!

!testRun: #ImportTest #test02CanNotImportAddressWithoutCustomer stamp: 'JV 7/2/2023 22:06:47'!
PASSED!

!testRun: #ImportTest #test03DoesNotImportRecordsStartingWithCButMoreCharacters stamp: 'JV 7/2/2023 22:06:47'!
PASSED!

!testRun: #ImportTest #test04DoesNotImportRecordsStartingWithAButMoreCharacters stamp: 'JV 7/2/2023 22:06:48'!
PASSED!

!testRun: #ImportTest #test05CanNotImportAddressRecordWithLessThanSixFields stamp: 'JV 7/2/2023 22:06:48'!
PASSED!

!testRun: #ImportTest #test06CanNotImportAddressRecordWithMoreThanSixFields stamp: 'JV 7/2/2023 22:06:48'!
PASSED!

!testRun: #ImportTest #test07CanNotImportCustomerRecordWithLessThanFiveFields stamp: 'JV 7/2/2023 22:06:48'!
PASSED!

!testRun: #ImportTest #test08CanNotImportCustomerRecordWithMoreThanFiveFields stamp: 'JV 7/2/2023 22:06:49'!
PASSED!

!testRun: #ImportTest #test09CannotImportEmptyLine stamp: 'JV 7/2/2023 22:06:49'!
PASSED!

----SNAPSHOT----(2 July 2023 22:07:11) CuisUniversity-5832.image priorSource: 9611427!